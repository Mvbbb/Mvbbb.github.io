<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<meta name="referrer" content="no-referrer">
<title>JDBC与mysql数据库交互 - Yu</title>
<base href="/">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<link rel="canonical" href="https://mvbbb.github.io/hy5u9w/">
<link rel="icon" type="image/x-icon" href="/images/web.png">

<meta name="description" content="原生 JDBC 获取数据库连接 方式一: 最简单的 12345678910111213141516171819202122@Testpublic void testConnection1() &amp;#123;    try &amp;#123;        //1.提供java.sql.Driver接口实现类的对象        Driver driver = null;        driver = n">
<meta property="og:type" content="website">
<meta property="og:title" content="JDBC与mysql数据库交互">
<meta property="og:url" content="https://mvbbb.github.io/hy5u9w/index.html">
<meta property="og:site_name" content="Yu">
<meta property="og:description" content="原生 JDBC 获取数据库连接 方式一: 最简单的 12345678910111213141516171819202122@Testpublic void testConnection1() &amp;#123;    try &amp;#123;        //1.提供java.sql.Driver接口实现类的对象        Driver driver = null;        driver = n">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://mvbbb.github.io/hy5u9w/images/avatar.jpg">
<meta property="article:published_time" content="2020-09-27T01:07:41.000Z">
<meta property="article:modified_time" content="2021-02-03T04:20:59.949Z">
<meta property="article:author" content="Mvbbb">
<meta property="article:tag" content="JavaWeb">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="MySql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mvbbb.github.io/hy5u9w/images/avatar.jpg">
<script type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","publisher":{"@type":"Person","name":"Mvbbb","description":"Who i am,who u are","image":"https://mvbbb.github.io/images/avatar.jpg"},"url":"https://mvbbb.github.io","image":"https://mvbbb.github.io/images/avatar.jpg","description":"Who i am,who u are","author":{"@type":"Person","name":"Mvbbb","description":"Who i am,who u are","image":"https://mvbbb.github.io/images/avatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"}},{"@context":"http://schema.org","@type":"Article","articleSection":"Java","url":"https://mvbbb.github.io/hy5u9w/","headline":"JDBC与mysql数据库交互","image":"https://mvbbb.github.io/images/avatar.jpg","datePublished":"2020-09-27T01:07:41.000Z","dateModified":"2021-02-03T04:20:59.949Z","keywords":"JavaWeb,Java,MySql","description":"Who i am,who u are","publisher":{"@type":"Organization","name":"Yu","logo":{"@type":"ImageObject","url":"https://mvbbb.github.io/images/avatar.jpg"}},"author":{"@type":"Person","name":"Mvbbb","description":"Who i am,who u are","image":"https://mvbbb.github.io/images/avatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://mvbbb.github.io/hy5u9w/"}}]</script><link rel="alternate" type="application/atom+xml" title="Yu" href="/rss2.xml">
<script async="" src="//www.googletagmanager.com/gtag/js?id=UA-160027215-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)};gtag('js',new Date());gtag('config','UA-160027215-1');</script>
<meta name="theme-color" content=""><script type="application/json" is="state">{&q;api/aHk1dTl3.json&q;:{&q;title&q;:&q;JDBC与mysql数据库交互&q;,&q;date&q;:&q;2020-09-27T01:07:41.000Z&q;,&q;date_formatted&q;:{&q;ll&q;:&q;Sep 27, 2020&q;,&q;L&q;:&q;09/27/2020&q;,&q;MM-DD&q;:&q;09-27&q;},&q;link&q;:&q;hy5u9w&q;,&q;comments&q;:true,&q;tags&q;:[&q;Java&q;,&q;JavaWeb&q;,&q;MySql&q;],&q;categories&q;:[&q;Java&q;,&q;JavaWeb&q;],&q;updated&q;:&q;2021-02-03T04:20:59.949Z&q;,&q;content&q;:&q;&l;h1 id=\&q;原生-jdbc-获取数据库连接\&q;&g;原生 JDBC 获取数据库连接&l;a title=\&q;#原生-jdbc-获取数据库连接\&q; href=\&q;#原生-jdbc-获取数据库连接\&q;&g;&l;/a&g;&l;/h1&g;\n&l;h2 id=\&q;方式一:-最简单的\&q;&g;方式一: 最简单的&l;a title=\&q;#方式一:-最简单的\&q; href=\&q;#方式一:-最简单的\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testConnection1&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//1.提供java.sql.Driver接口实现类的对象&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Driver driver = &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        driver = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; com.mysql.jdbc.Driver();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//2.提供url，指明具体操作的数据&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        String url = &l;span class=\&q;string\&q;&g;&a;quot;jdbc:mysql://localhost:3306/test&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//3.提供Properties的对象，指明用户名和密码&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Properties info = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Properties();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        info.setProperty(&l;span class=\&q;string\&q;&g;&a;quot;user&a;quot;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;quot;root&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        info.setProperty(&l;span class=\&q;string\&q;&g;&a;quot;password&a;quot;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;quot;abc123&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//4.调用driver的connect()，获取连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Connection conn = driver.connect(url, info);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        System.out.println(conn);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (SQLException e) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        e.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;实现简单&l;/p&g;\n&l;h2 id=\&q;方式二:-使用反射\&q;&g;方式二: 使用反射&l;a title=\&q;#方式二:-使用反射\&q; href=\&q;#方式二:-使用反射\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testConnection2&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//1.实例化Driver&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        String className = &l;span class=\&q;string\&q;&g;&a;quot;com.mysql.jdbc.Driver&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Class clazz = Class.forName(className);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Driver driver = (Driver) clazz.newInstance();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//2.提供url，指明具体操作的数据&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        String url = &l;span class=\&q;string\&q;&g;&a;quot;jdbc:mysql://localhost:3306/test&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//3.提供Properties的对象，指明用户名和密码&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Properties info = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Properties();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        info.setProperty(&l;span class=\&q;string\&q;&g;&a;quot;user&a;quot;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;quot;root&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        info.setProperty(&l;span class=\&q;string\&q;&g;&a;quot;password&a;quot;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;quot;abc123&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//4.调用driver的connect()，获取连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Connection conn = driver.connect(url, info);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        System.out.println(conn);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (Exception e) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        e.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h2 id=\&q;方式三:-使用-drivermanager\&q;&g;方式三: 使用 DriverManager&l;a title=\&q;#方式三:-使用-drivermanager\&q; href=\&q;#方式三:-使用-drivermanager\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testConnection4&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//1.数据库连接的4个基本要素：&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        String url = &l;span class=\&q;string\&q;&g;&a;quot;jdbc:mysql://localhost:3306/test&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        String user = &l;span class=\&q;string\&q;&g;&a;quot;root&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        String password = &l;span class=\&q;string\&q;&g;&a;quot;abc123&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        String driverName = &l;span class=\&q;string\&q;&g;&a;quot;com.mysql.jdbc.Driver&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//2.加载驱动 （①实例化Driver ②注册驱动）&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Class.forName(driverName);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//Driver driver = (Driver) clazz.newInstance();&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//3.注册驱动&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//DriverManager.registerDriver(driver);&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;/*&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;            可以注释掉上述代码的原因，是因为在mysql的Driver类中声明有：&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;            static &a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;                try &a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;                    DriverManager.registerDriver(new Driver());&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;                &a;#125; catch (SQLException var1) &a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;                    throw new RuntimeException(&a;quot;Can&a;#x27;t register driver!&a;quot;);&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;                &a;#125;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;            &a;#125;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;             */&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//3.获取连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Connection conn = DriverManager.getConnection(url, user, password);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        System.out.println(conn);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (Exception e) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        e.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;说明：不必显式的注册驱动了。因为在 DriverManager 的源码中已经存在静态代码块，实现了驱动的注册。&l;/p&g;\n&l;h2 id=\&q;方式四:-使用配置文件\&q;&g;方式四: 使用配置文件&l;a title=\&q;#方式四:-使用配置文件\&q; href=\&q;#方式四:-使用配置文件\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;  &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testConnection5&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;//1.加载配置文件&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    InputStream is = ConnectionTest.class.getClassLoader().getResourceAsStream(&l;span class=\&q;string\&q;&g;&a;quot;jdbc.properties&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Properties pros = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Properties();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    pros.load(is);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;//2.读取配置信息&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    String user = pros.getProperty(&l;span class=\&q;string\&q;&g;&a;quot;user&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    String password = pros.getProperty(&l;span class=\&q;string\&q;&g;&a;quot;password&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    String url = pros.getProperty(&l;span class=\&q;string\&q;&g;&a;quot;url&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    String driverClass = pros.getProperty(&l;span class=\&q;string\&q;&g;&a;quot;driverClass&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;//3.加载驱动&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Class.forName(driverClass);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;//4.获取连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Connection conn = DriverManager.getConnection(url,user,password);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    System.out.println(conn);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;其中，配置文件声明在工程的 src 目录下：【jdbc.properties】&l;/p&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;user=root&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;password=abc123&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;url=jdbc:mysql:&l;span class=\&q;comment\&q;&g;//localhost:3306/test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;driverClass=com.mysql.jdbc.Driver&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;说明：使用配置文件的方式保存配置信息，在代码中加载配置文件&l;/p&g;\n&l;blockquote&g;\n&l;p&g;使用配置文件的好处：&l;br&g;\n① 实现了代码和数据的分离，如果需要修改配置信息，直接在配置文件中修改，不需要深入代码&l;br&g;\n② 如果修改了配置信息，省去重新编译的过程。&l;/p&g;\n&l;/blockquote&g;\n&l;h1 id=\&q;使用-preparedstatement-实现-crud-操作\&q;&g;使用 PreparedStatement 实现 CRUD 操作&l;a title=\&q;#使用-preparedstatement-实现-crud-操作\&q; href=\&q;#使用-preparedstatement-实现-crud-操作\&q;&g;&l;/a&g;&l;/h1&g;\n&l;h2 id=\&q;增删改\&q;&g;增删改&l;a title=\&q;#增删改\&q; href=\&q;#增删改\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//通用的增、删、改操作（体现一：增、删、改 ； 体现二：针对于不同的表）&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;update&l;/span&g;&l;span class=\&q;params\&q;&g;(String sql,Object ... args)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Connection conn = &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    PreparedStatement ps = &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//1.获取数据库的连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        conn = JDBCUtils.getConnection();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//2.获取PreparedStatement的实例 (或：预编译sql语句)&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ps = conn.prepareStatement(sql);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//3.填充占位符&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;;i &a;lt; args.length;i++)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            ps.setObject(i + &l;span class=\&q;number\&q;&g;1&l;/span&g;, args[i]);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//4.执行sql语句&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ps.execute();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (Exception e) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        e.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;span class=\&q;keyword\&q;&g;finally&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//5.关闭资源&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        JDBCUtils.closeResource(conn, ps);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h2 id=\&q;查询\&q;&g;查询&l;a title=\&q;#查询\&q; href=\&q;#查询\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 通用的针对于不同表的查询:返回一个对象 (version 1.0)&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &a;lt;T&a;gt; &l;span class=\&q;function\&q;&g;T &l;span class=\&q;title\&q;&g;getInstance&l;/span&g;&l;span class=\&q;params\&q;&g;(Class&a;lt;T&a;gt; clazz, String sql, Object... args)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Connection conn = &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    PreparedStatement ps = &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    ResultSet rs = &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 1.获取数据库连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        conn = JDBCUtils.getConnection();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 2.预编译sql语句，得到PreparedStatement对象&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ps = conn.prepareStatement(sql);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 3.填充占位符&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; args.length; i++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            ps.setObject(i + &l;span class=\&q;number\&q;&g;1&l;/span&g;, args[i]);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 4.执行executeQuery(),得到结果集：ResultSet&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        rs = ps.executeQuery();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 5.得到结果集的元数据：ResultSetMetaData&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ResultSetMetaData rsmd = rs.getMetaData();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 6.1通过ResultSetMetaData得到columnCount,columnLabel；通过ResultSet得到列值&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;int&l;/span&g; columnCount = rsmd.getColumnCount();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g; (rs.next()) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            T t = clazz.newInstance();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; columnCount; i++) &a;#123;&l;span class=\&q;comment\&q;&g;// 遍历每一个列&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;comment\&q;&g;// 获取列值&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                Object columnVal = rs.getObject(i + &l;span class=\&q;number\&q;&g;1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;comment\&q;&g;// 获取列的别名:列的别名，使用类的属性名充当&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                String columnLabel = rsmd.getColumnLabel(i + &l;span class=\&q;number\&q;&g;1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;comment\&q;&g;// 6.2使用反射，给对象的相应属性赋值&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                Field field = clazz.getDeclaredField(columnLabel);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                field.setAccessible(&l;span class=\&q;keyword\&q;&g;true&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                field.set(t, columnVal);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;return&l;/span&g; t;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (Exception e) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        e.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125; &l;span class=\&q;keyword\&q;&g;finally&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 7.关闭资源&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        JDBCUtils.closeResource(conn, ps, rs);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;使用-druid-数据库连接池获取数据库连接\&q;&g;使用 Druid 数据库连接池获取数据库连接&l;a title=\&q;#使用-druid-数据库连接池获取数据库连接\&q; href=\&q;#使用-druid-数据库连接池获取数据库连接\&q;&g;&l;/a&g;&l;/h1&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;class\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title\&q;&g;TestDruid&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;static&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;(String[] args)&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tProperties pro = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Properties();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        pro.load(TestDruid.class.getClassLoader().getResourceAsStream(&l;span class=\&q;string\&q;&g;&a;quot;druid.properties&a;quot;&l;/span&g;));&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tDataSource ds = DruidDataSourceFactory.createDataSource(pro);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tConnection conn = ds.getConnection();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tSystem.out.println(conn);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;apache-dbutils-实现-crud-操作\&q;&g;Apache-DBUtils 实现 CRUD 操作&l;a title=\&q;#apache-dbutils-实现-crud-操作\&q; href=\&q;#apache-dbutils-实现-crud-操作\&q;&g;&l;/a&g;&l;/h1&g;\n&l;h2 id=\&q;增删改-1\&q;&g;增删改&l;a title=\&q;#增删改-1\&q; href=\&q;#增删改-1\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 测试添加&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testInsert&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tQueryRunner runner = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; QueryRunner();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tConnection conn = JDBCUtils.getConnection3();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tString sql = &l;span class=\&q;string\&q;&g;&a;quot;insert into customers(name,email,birth)values(?,?,?)&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;int&l;/span&g; count = runner.update(conn, sql, &l;span class=\&q;string\&q;&g;&a;quot;何成飞&a;quot;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;quot;he@qq.com&a;quot;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;quot;1992-09-08&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tSystem.out.println(&l;span class=\&q;string\&q;&g;&a;quot;添加了&a;quot;&l;/span&g; + count + &l;span class=\&q;string\&q;&g;&a;quot;条记录&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tJDBCUtils.closeResource(conn, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 测试删除&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testDelete&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tQueryRunner runner = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; QueryRunner();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tConnection conn = JDBCUtils.getConnection3();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tString sql = &l;span class=\&q;string\&q;&g;&a;quot;delete from customers where id &a;lt; ?&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;int&l;/span&g; count = runner.update(conn, sql,&l;span class=\&q;number\&q;&g;3&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tSystem.out.println(&l;span class=\&q;string\&q;&g;&a;quot;删除了&a;quot;&l;/span&g; + count + &l;span class=\&q;string\&q;&g;&a;quot;条记录&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tJDBCUtils.closeResource(conn, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h2 id=\&q;查询-1\&q;&g;查询&l;a title=\&q;#查询-1\&q; href=\&q;#查询-1\&q;&g;&l;/a&g;&l;/h2&g;\n&l;p&g;ResultSetHandler 接口及实现类, 用于接收查询结果.&l;br&g;\n该接口用于处理 java.sql.ResultSet，将数据按要求转换为另一种形式。&l;/p&g;\n&l;p&g;ResultSetHandler 接口提供了一个单独的方法：Object handle (java.sql.ResultSet .rs)。&l;/p&g;\n&l;p&g;接口的主要实现类：&l;/p&g;\n&l;ul&g;\n&l;li&g;\n&l;p&g;ArrayHandler：把结果集中的第一行数据转成对象数组。&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;ArrayListHandler：把结果集中的每一行数据都转成一个数组，再存放到 List 中。&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;**BeanHandler：**将结果集中的第一行数据封装到一个对应的 JavaBean 实例中。&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;**BeanListHandler：**将结果集中的每一行数据都封装到一个对应的 JavaBean 实例中，存放到 List 里。&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;ColumnListHandler：将结果集中某一列的数据存放到 List 中。&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;KeyedHandler(name)：将结果集中的每一行数据都封装到一个 Map 里，再把这些 map 再存到一个 map 里，其 key 为指定的 key。&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;**MapHandler：**将结果集中的第一行数据封装到一个 Map 里，key 是列名，value 就是对应的值。&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;**MapListHandler：**将结果集中的每一行数据都封装到一个 Map 里，然后再存放到 List&l;/p&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;**ScalarHandler：**查询单个值对象&l;/p&g;\n&l;/li&g;\n&l;/ul&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;69&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;70&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;71&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;72&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;73&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;74&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;75&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;76&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;77&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;78&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;79&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;80&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;81&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;82&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;83&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;84&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;/*&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; * 测试查询:查询一条记录&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; *&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; * 使用ResultSetHandler的实现类：BeanHandler&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; */&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testQueryInstance&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tQueryRunner runner = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; QueryRunner();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tConnection conn = JDBCUtils.getConnection3();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tString sql = &l;span class=\&q;string\&q;&g;&a;quot;select id,name,email,birth from customers where id = ?&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tBeanHandler&a;lt;Customer&a;gt; handler = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; BeanHandler&a;lt;&a;gt;(Customer.class);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tCustomer customer = runner.query(conn, sql, handler, &l;span class=\&q;number\&q;&g;23&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tSystem.out.println(customer);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tJDBCUtils.closeResource(conn, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;/*&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; * 测试查询:查询多条记录构成的集合&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; * 使用ResultSetHandler的实现类：BeanListHandler&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; */&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testQueryList&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tQueryRunner runner = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; QueryRunner();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tConnection conn = JDBCUtils.getConnection3();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tString sql = &l;span class=\&q;string\&q;&g;&a;quot;select id,name,email,birth from customers where id &a;lt; ?&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tBeanListHandler&a;lt;Customer&a;gt; handler = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; BeanListHandler&a;lt;&a;gt;(Customer.class);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tList&a;lt;Customer&a;gt; list = runner.query(conn, sql, handler, &l;span class=\&q;number\&q;&g;23&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tlist.forEach(System.out::println);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tJDBCUtils.closeResource(conn, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;/*&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; * 自定义ResultSetHandler的实现类&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; */&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testQueryInstance1&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tQueryRunner runner = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; QueryRunner();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tConnection conn = JDBCUtils.getConnection3();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tString sql = &l;span class=\&q;string\&q;&g;&a;quot;select id,name,email,birth from customers where id = ?&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tResultSetHandler&a;lt;Customer&a;gt; handler = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; ResultSetHandler&a;lt;Customer&a;gt;() &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;meta\&q;&g;@Override&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; Customer &l;span class=\&q;title\&q;&g;handle&l;/span&g;&l;span class=\&q;params\&q;&g;(ResultSet rs)&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; SQLException &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tSystem.out.println(&l;span class=\&q;string\&q;&g;&a;quot;handle&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(rs.next())&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;int&l;/span&g; id = rs.getInt(&l;span class=\&q;string\&q;&g;&a;quot;id&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                String name = rs.getString(&l;span class=\&q;string\&q;&g;&a;quot;name&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                String email = rs.getString(&l;span class=\&q;string\&q;&g;&a;quot;email&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                Date birth = rs.getDate(&l;span class=\&q;string\&q;&g;&a;quot;birth&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Customer(id, name, email, birth);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tCustomer customer = runner.query(conn, sql, handler, &l;span class=\&q;number\&q;&g;23&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tSystem.out.println(customer);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tJDBCUtils.closeResource(conn, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;/*&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; * 如何查询类似于最大的，最小的，平均的，总和，个数相关的数据，&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; * 使用ScalarHandler&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; *&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g; */&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;@Test&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testQueryValue&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;span class=\&q;keyword\&q;&g;throws&l;/span&g; Exception&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tQueryRunner runner = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; QueryRunner();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tConnection conn = JDBCUtils.getConnection3();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tString sql = &l;span class=\&q;string\&q;&g;&a;quot;select max(birth) from customers&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tScalarHandler handler = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; ScalarHandler();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tDate birth = (Date) runner.query(conn, sql, handler);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tSystem.out.println(birth);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tJDBCUtils.closeResource(conn, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;数据库事务\&q;&g;数据库事务&l;a title=\&q;#数据库事务\&q; href=\&q;#数据库事务\&q;&g;&l;/a&g;&l;/h1&g;\n&l;figure class=\&q;highlight java\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g; &l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;testJDBCTransaction&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tConnection conn = &l;span class=\&q;keyword\&q;&g;null&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;comment\&q;&g;// 1.获取数据库连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tconn = JDBCUtils.getConnection();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;comment\&q;&g;// 2.开启事务&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tconn.setAutoCommit(&l;span class=\&q;keyword\&q;&g;false&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;comment\&q;&g;// 3.进行数据库操作&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tString sql1 = &l;span class=\&q;string\&q;&g;&a;quot;update user_table set balance = balance - 100 where user = ?&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tupdate(conn, sql1, &l;span class=\&q;string\&q;&g;&a;quot;AA&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;comment\&q;&g;// 模拟网络异常&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;comment\&q;&g;//System.out.println(10 / 0);&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tString sql2 = &l;span class=\&q;string\&q;&g;&a;quot;update user_table set balance = balance + 100 where user = ?&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tupdate(conn, sql2, &l;span class=\&q;string\&q;&g;&a;quot;BB&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;comment\&q;&g;// 4.若没有异常，则提交事务&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tconn.commit();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (Exception e) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\te.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;comment\&q;&g;// 5.若有异常，则回滚事务&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tconn.rollback();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (SQLException e1) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\te1.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125; &l;span class=\&q;keyword\&q;&g;finally&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;try&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;comment\&q;&g;//6.恢复每次DML操作的自动提交功能&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tconn.setAutoCommit(&l;span class=\&q;keyword\&q;&g;true&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125; &l;span class=\&q;keyword\&q;&g;catch&l;/span&g; (SQLException e) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\te.printStackTrace();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//7.关闭连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tJDBCUtils.closeResource(conn, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;, &l;span class=\&q;keyword\&q;&g;null&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;&l;a href=\&q;https://github.com/Mvbbb/resources/blob/master/JDBC/%E5%B0%9A%E7%A1%85%E8%B0%B7_%E5%AE%8B%E7%BA%A2%E5%BA%B7_JDBC.md\&q; target=\&q;_blank\&q; rel=\&q;external nofollow noopener\&q;&g;参考文档&l;/a&g;&l;/p&g;\n&l;div&g;&l;h1 id=\&q;推荐文章\&q;&g;推荐文章&l;a title=\&q;#推荐文章\&q; href=\&q;%e6%8e%a8%e8%8d%90%e6%96%87%e7%ab%a0\&q;&g;&l;/a&g;&l;/h1&g;&l;ul&g;&l;li&g;&l;a href=\&q;https://mvbbb.github.io/cxnppw/\&q;&g;使用 Java 实现简单的 WebServer&l;/a&g;&l;/li&g;&l;li&g;&l;a href=\&q;https://mvbbb.github.io/sn0gdd/\&q;&g;《码出高效》笔记&l;/a&g;&l;/li&g;&l;li&g;&l;a href=\&q;https://mvbbb.github.io/nwg3e5/\&q;&g;Java 细节&l;/a&g;&l;/li&g;&l;li&g;&l;a href=\&q;https://kevin1061517.github.io/blog/posts/Java/8f30/\&q;&g;Practical Java筆記&l;/a&g;&l;/li&g;&l;/ul&g;&l;/div&g;&q;,&q;prev&q;:{&q;title&q;:&q;算法竞赛入门经典&q;,&q;link&q;:&q;lsrgfy&q;},&q;next&q;:{&q;title&q;:&q;LeetCode 数据库&q;,&q;link&q;:&q;ce37t7&q;},&q;plink&q;:&q;https://mvbbb.github.io/hy5u9w/&q;,&q;toc&q;:[{&q;id&q;:&q;原生-jdbc-获取数据库连接&q;,&q;title&q;:&q;原生 JDBC 获取数据库连接&q;,&q;index&q;:&q;1&q;,&q;children&q;:[{&q;id&q;:&q;方式一:-最简单的&q;,&q;title&q;:&q;方式一: 最简单的&q;,&q;index&q;:&q;1.1&q;},{&q;id&q;:&q;方式二:-使用反射&q;,&q;title&q;:&q;方式二: 使用反射&q;,&q;index&q;:&q;1.2&q;},{&q;id&q;:&q;方式三:-使用-drivermanager&q;,&q;title&q;:&q;方式三: 使用 DriverManager&q;,&q;index&q;:&q;1.3&q;},{&q;id&q;:&q;方式四:-使用配置文件&q;,&q;title&q;:&q;方式四: 使用配置文件&q;,&q;index&q;:&q;1.4&q;}]},{&q;id&q;:&q;使用-preparedstatement-实现-crud-操作&q;,&q;title&q;:&q;使用 PreparedStatement 实现 CRUD 操作&q;,&q;index&q;:&q;2&q;,&q;children&q;:[{&q;id&q;:&q;增删改&q;,&q;title&q;:&q;增删改&q;,&q;index&q;:&q;2.1&q;},{&q;id&q;:&q;查询&q;,&q;title&q;:&q;查询&q;,&q;index&q;:&q;2.2&q;}]},{&q;id&q;:&q;使用-druid-数据库连接池获取数据库连接&q;,&q;title&q;:&q;使用 Druid 数据库连接池获取数据库连接&q;,&q;index&q;:&q;3&q;},{&q;id&q;:&q;apache-dbutils-实现-crud-操作&q;,&q;title&q;:&q;Apache-DBUtils 实现 CRUD 操作&q;,&q;index&q;:&q;4&q;,&q;children&q;:[{&q;id&q;:&q;增删改-1&q;,&q;title&q;:&q;增删改&q;,&q;index&q;:&q;4.1&q;},{&q;id&q;:&q;查询-1&q;,&q;title&q;:&q;查询&q;,&q;index&q;:&q;4.2&q;}]},{&q;id&q;:&q;数据库事务&q;,&q;title&q;:&q;数据库事务&q;,&q;index&q;:&q;5&q;},{&q;id&q;:&q;推荐文章&q;,&q;title&q;:&q;推荐文章&q;,&q;index&q;:&q;6&q;}],&q;copyright&q;:{&q;author&q;:&q;Mvbbb&q;,&q;link&q;:&q;&l;a href=\&q;https://mvbbb.github.io/hy5u9w/\&q; title=\&q;JDBC与mysql数据库交互\&q;&g;https://mvbbb.github.io/hy5u9w/&l;/a&g;&q;,&q;license&q;:&q;Attribution-NonCommercial-NoDerivatives 4.0 International (&l;a href=\&q;https://creativecommons.org/licenses/by-nc-sa/4.0/\&q; rel=\&q;external nofollow noopener\&q; target=\&q;_blank\&q;&g;CC BY-NC-ND 4.0&l;/a&g;)&q;}}}</script></head><body lang="en"><div style="display:none"><script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1279526637&amp;web_id=1279526637"></script></div>
<!-- hexo injector head_end start --><link href="//fonts.googleapis.com/css?family=Baloo+Bhaijaan|Inconsolata|Josefin+Sans|Montserrat" rel="stylesheet"><link href="/styles.43478ea7e28ed563c48b.css" rel="stylesheet">
<script src="/config.f667b9e14173c512056d.js"></script>

<link rel="stylesheet" href="/theme.6191587147d30da44d8f.css" is="theme">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0">
<!-- hexo injector body_begin start --><is-a class="φbm φk" ng-version="10.0.11"><is-l class="φeb φh"><div class="φel"><section class="φem"><header class="φec φf"><!----><is-c class="φed"><img draggable="false" class="φbw φw" src="images/avatar.jpg" alt="" title="" width="160" height="160"></is-c><!----><a href="" class="φef φa φu">Mvbbb</a><p class="φee">Who i am,who u are</p></header><div class="φeq φf"><a routerlink="/archives" class="φer φu" href="/archives"><span class="φd">45</span><span>Archives</span></a><a class="φer φu" href="/categories/Java"><span class="φd">14</span><span>Categories</span></a><!----><a routerlink="/tags" class="φer φu" href="/tags"><span class="φd">34</span><span>Tags</span></a><!----></div><!----><nav class="φen"><a class="φeo φbd φj φc φu φo" href="/">Home</a><!----><!----><!----><a class="φeo φbd φj φc φu φo" href="/about">About</a><!----><!----><!----><a class="φeo φbd φj φc φu φo" href="/search">Search</a><!----><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φeo φbd φj φc φu φo" href="https://www.yuque.com/u1296515/zb4bwb">Yuque</a><!----><!----><!----></nav><!----><!----></section><footer class="φeg φeh"><div class="φej"><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-email" href="mailto:3212618781@qq.com">email</a><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-feed" href="https://mvbbb.github.io/rss2.xml">feed</a><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-github" href="https://github.com/Mvbbb">github</a><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-myspace" href="/links">myspace</a><!----></div><!----><p class="φbk φz">© 2019-2021 ❤ <a href="https://github.com/Mvbbb">Mvbbb</a></p><!----><!----><!----></footer></div></is-l><div class="φbo"><div class="φbn"><div class="φbs φbe"><main class="φbr φbf"><router-outlet></router-outlet><is-s class="φfx φf"><header class="φgh φgi" style="background-image:;background-color:;"><div class="φgq"><h1 class="φgt">JDBC与mysql数据库交互</h1><!----><p class="φgj φr"><span class="φgk φgo">Sep 27, 2020</span><a class="φgk φgm φu" href="/categories/Java">Java</a><!----><!----><!----></p><!----><!----></div></header><article itemscope="" itemtype="http://schema.org/Article" class="φga" data-title="JDBC与mysql数据库交互"><div itemprop="articleBody" issnippet="" iszoomable="" class="φbk φh φz"><h1 id="原生-jdbc-获取数据库连接">原生 JDBC 获取数据库连接<a title="#原生-jdbc-获取数据库连接" href="#原生-jdbc-获取数据库连接"></a></h1>
<h2 id="方式一:-最简单的">方式一: 最简单的<a title="#方式一:-最简单的" href="#方式一:-最简单的"></a></h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConnection1</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="comment">//1.提供java.sql.Driver接口实现类的对象</span></span><br><span class="line">        Driver driver = <span class="keyword">null</span>;</span><br><span class="line">        driver = <span class="keyword">new</span> com.mysql.jdbc.Driver();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.提供url，指明具体操作的数据</span></span><br><span class="line">        String url = <span class="string">"jdbc:mysql://localhost:3306/test"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.提供Properties的对象，指明用户名和密码</span></span><br><span class="line">        Properties info = <span class="keyword">new</span> Properties();</span><br><span class="line">        info.setProperty(<span class="string">"user"</span>, <span class="string">"root"</span>);</span><br><span class="line">        info.setProperty(<span class="string">"password"</span>, <span class="string">"abc123"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.调用driver的connect()，获取连接</span></span><br><span class="line">        Connection conn = driver.connect(url, info);</span><br><span class="line">        System.out.println(conn);</span><br><span class="line">    } <span class="keyword">catch</span> (SQLException e) {</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>实现简单</p>
<h2 id="方式二:-使用反射">方式二: 使用反射<a title="#方式二:-使用反射" href="#方式二:-使用反射"></a></h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConnection2</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="comment">//1.实例化Driver</span></span><br><span class="line">        String className = <span class="string">"com.mysql.jdbc.Driver"</span>;</span><br><span class="line">        Class clazz = Class.forName(className);</span><br><span class="line">        Driver driver = (Driver) clazz.newInstance();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.提供url，指明具体操作的数据</span></span><br><span class="line">        String url = <span class="string">"jdbc:mysql://localhost:3306/test"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.提供Properties的对象，指明用户名和密码</span></span><br><span class="line">        Properties info = <span class="keyword">new</span> Properties();</span><br><span class="line">        info.setProperty(<span class="string">"user"</span>, <span class="string">"root"</span>);</span><br><span class="line">        info.setProperty(<span class="string">"password"</span>, <span class="string">"abc123"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.调用driver的connect()，获取连接</span></span><br><span class="line">        Connection conn = driver.connect(url, info);</span><br><span class="line">        System.out.println(conn);</span><br><span class="line"></span><br><span class="line">    } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="方式三:-使用-drivermanager">方式三: 使用 DriverManager<a title="#方式三:-使用-drivermanager" href="#方式三:-使用-drivermanager"></a></h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConnection4</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="comment">//1.数据库连接的4个基本要素：</span></span><br><span class="line">        String url = <span class="string">"jdbc:mysql://localhost:3306/test"</span>;</span><br><span class="line">        String user = <span class="string">"root"</span>;</span><br><span class="line">        String password = <span class="string">"abc123"</span>;</span><br><span class="line">        String driverName = <span class="string">"com.mysql.jdbc.Driver"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.加载驱动 （①实例化Driver ②注册驱动）</span></span><br><span class="line">        Class.forName(driverName);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Driver driver = (Driver) clazz.newInstance();</span></span><br><span class="line">        <span class="comment">//3.注册驱动</span></span><br><span class="line">        <span class="comment">//DriverManager.registerDriver(driver);</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            可以注释掉上述代码的原因，是因为在mysql的Driver类中声明有：</span></span><br><span class="line"><span class="comment">            static {</span></span><br><span class="line"><span class="comment">                try {</span></span><br><span class="line"><span class="comment">                    DriverManager.registerDriver(new Driver());</span></span><br><span class="line"><span class="comment">                } catch (SQLException var1) {</span></span><br><span class="line"><span class="comment">                    throw new RuntimeException("Can't register driver!");</span></span><br><span class="line"><span class="comment">                }</span></span><br><span class="line"><span class="comment">            }</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.获取连接</span></span><br><span class="line">        Connection conn = DriverManager.getConnection(url, user, password);</span><br><span class="line">        System.out.println(conn);</span><br><span class="line">    } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>说明：不必显式的注册驱动了。因为在 DriverManager 的源码中已经存在静态代码块，实现了驱动的注册。</p>
<h2 id="方式四:-使用配置文件">方式四: 使用配置文件<a title="#方式四:-使用配置文件" href="#方式四:-使用配置文件"></a></h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">testConnection5</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">    <span class="comment">//1.加载配置文件</span></span><br><span class="line">    InputStream is = ConnectionTest.class.getClassLoader().getResourceAsStream(<span class="string">"jdbc.properties"</span>);</span><br><span class="line">    Properties pros = <span class="keyword">new</span> Properties();</span><br><span class="line">    pros.load(is);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.读取配置信息</span></span><br><span class="line">    String user = pros.getProperty(<span class="string">"user"</span>);</span><br><span class="line">    String password = pros.getProperty(<span class="string">"password"</span>);</span><br><span class="line">    String url = pros.getProperty(<span class="string">"url"</span>);</span><br><span class="line">    String driverClass = pros.getProperty(<span class="string">"driverClass"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.加载驱动</span></span><br><span class="line">    Class.forName(driverClass);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.获取连接</span></span><br><span class="line">    Connection conn = DriverManager.getConnection(url,user,password);</span><br><span class="line">    System.out.println(conn);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>其中，配置文件声明在工程的 src 目录下：【jdbc.properties】</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">user=root</span><br><span class="line">password=abc123</span><br><span class="line">url=jdbc:mysql:<span class="comment">//localhost:3306/test</span></span><br><span class="line">driverClass=com.mysql.jdbc.Driver</span><br></pre></td></tr></tbody></table></figure>
<p>说明：使用配置文件的方式保存配置信息，在代码中加载配置文件</p>
<blockquote>
<p>使用配置文件的好处：<br>
① 实现了代码和数据的分离，如果需要修改配置信息，直接在配置文件中修改，不需要深入代码<br>
② 如果修改了配置信息，省去重新编译的过程。</p>
</blockquote>
<h1 id="使用-preparedstatement-实现-crud-操作">使用 PreparedStatement 实现 CRUD 操作<a title="#使用-preparedstatement-实现-crud-操作" href="#使用-preparedstatement-实现-crud-操作"></a></h1>
<h2 id="增删改">增删改<a title="#增删改" href="#增删改"></a></h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通用的增、删、改操作（体现一：增、删、改 ； 体现二：针对于不同的表）</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(String sql,Object ... args)</span></span>{</span><br><span class="line">    Connection conn = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="comment">//1.获取数据库的连接</span></span><br><span class="line">        conn = JDBCUtils.getConnection();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取PreparedStatement的实例 (或：预编译sql语句)</span></span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="comment">//3.填充占位符</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; args.length;i++){</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.执行sql语句</span></span><br><span class="line">        ps.execute();</span><br><span class="line">    } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line"></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    }<span class="keyword">finally</span>{</span><br><span class="line">        <span class="comment">//5.关闭资源</span></span><br><span class="line">        JDBCUtils.closeResource(conn, ps);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="查询">查询<a title="#查询" href="#查询"></a></h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通用的针对于不同表的查询:返回一个对象 (version 1.0)</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getInstance</span><span class="params">(Class&lt;T&gt; clazz, String sql, Object... args)</span> </span>{</span><br><span class="line"></span><br><span class="line">    Connection conn = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">    ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="comment">// 1.获取数据库连接</span></span><br><span class="line">        conn = JDBCUtils.getConnection();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.预编译sql语句，得到PreparedStatement对象</span></span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.填充占位符</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; args.length; i++) {</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.执行executeQuery(),得到结果集：ResultSet</span></span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.得到结果集的元数据：ResultSetMetaData</span></span><br><span class="line">        ResultSetMetaData rsmd = rs.getMetaData();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.1通过ResultSetMetaData得到columnCount,columnLabel；通过ResultSet得到列值</span></span><br><span class="line">        <span class="keyword">int</span> columnCount = rsmd.getColumnCount();</span><br><span class="line">        <span class="keyword">if</span> (rs.next()) {</span><br><span class="line">            T t = clazz.newInstance();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; columnCount; i++) {<span class="comment">// 遍历每一个列</span></span><br><span class="line">                <span class="comment">// 获取列值</span></span><br><span class="line">                Object columnVal = rs.getObject(i + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// 获取列的别名:列的别名，使用类的属性名充当</span></span><br><span class="line">                String columnLabel = rsmd.getColumnLabel(i + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// 6.2使用反射，给对象的相应属性赋值</span></span><br><span class="line">                Field field = clazz.getDeclaredField(columnLabel);</span><br><span class="line">                field.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">                field.set(t, columnVal);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line"></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    } <span class="keyword">finally</span> {</span><br><span class="line">        <span class="comment">// 7.关闭资源</span></span><br><span class="line">        JDBCUtils.closeResource(conn, ps, rs);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="使用-druid-数据库连接池获取数据库连接">使用 Druid 数据库连接池获取数据库连接<a title="#使用-druid-数据库连接池获取数据库连接" href="#使用-druid-数据库连接池获取数据库连接"></a></h1>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDruid</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">		Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro.load(TestDruid.class.getClassLoader().getResourceAsStream(<span class="string">"druid.properties"</span>));</span><br><span class="line">		DataSource ds = DruidDataSourceFactory.createDataSource(pro);</span><br><span class="line">		Connection conn = ds.getConnection();</span><br><span class="line">		System.out.println(conn);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="apache-dbutils-实现-crud-操作">Apache-DBUtils 实现 CRUD 操作<a title="#apache-dbutils-实现-crud-操作" href="#apache-dbutils-实现-crud-操作"></a></h1>
<h2 id="增删改-1">增删改<a title="#增删改-1" href="#增删改-1"></a></h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试添加</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInsert</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">	QueryRunner runner = <span class="keyword">new</span> QueryRunner();</span><br><span class="line">	Connection conn = JDBCUtils.getConnection3();</span><br><span class="line">	String sql = <span class="string">"insert into customers(name,email,birth)values(?,?,?)"</span>;</span><br><span class="line">	<span class="keyword">int</span> count = runner.update(conn, sql, <span class="string">"何成飞"</span>, <span class="string">"he@qq.com"</span>, <span class="string">"1992-09-08"</span>);</span><br><span class="line"></span><br><span class="line">	System.out.println(<span class="string">"添加了"</span> + count + <span class="string">"条记录"</span>);</span><br><span class="line"></span><br><span class="line">	JDBCUtils.closeResource(conn, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">// 测试删除</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDelete</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">	QueryRunner runner = <span class="keyword">new</span> QueryRunner();</span><br><span class="line">	Connection conn = JDBCUtils.getConnection3();</span><br><span class="line">	String sql = <span class="string">"delete from customers where id &lt; ?"</span>;</span><br><span class="line">	<span class="keyword">int</span> count = runner.update(conn, sql,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	System.out.println(<span class="string">"删除了"</span> + count + <span class="string">"条记录"</span>);</span><br><span class="line"></span><br><span class="line">	JDBCUtils.closeResource(conn, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="查询-1">查询<a title="#查询-1" href="#查询-1"></a></h2>
<p>ResultSetHandler 接口及实现类, 用于接收查询结果.<br>
该接口用于处理 java.sql.ResultSet，将数据按要求转换为另一种形式。</p>
<p>ResultSetHandler 接口提供了一个单独的方法：Object handle (java.sql.ResultSet .rs)。</p>
<p>接口的主要实现类：</p>
<ul>
<li>
<p>ArrayHandler：把结果集中的第一行数据转成对象数组。</p>
</li>
<li>
<p>ArrayListHandler：把结果集中的每一行数据都转成一个数组，再存放到 List 中。</p>
</li>
<li>
<p>**BeanHandler：**将结果集中的第一行数据封装到一个对应的 JavaBean 实例中。</p>
</li>
<li>
<p>**BeanListHandler：**将结果集中的每一行数据都封装到一个对应的 JavaBean 实例中，存放到 List 里。</p>
</li>
<li>
<p>ColumnListHandler：将结果集中某一列的数据存放到 List 中。</p>
</li>
<li>
<p>KeyedHandler(name)：将结果集中的每一行数据都封装到一个 Map 里，再把这些 map 再存到一个 map 里，其 key 为指定的 key。</p>
</li>
<li>
<p>**MapHandler：**将结果集中的第一行数据封装到一个 Map 里，key 是列名，value 就是对应的值。</p>
</li>
<li>
<p>**MapListHandler：**将结果集中的每一行数据都封装到一个 Map 里，然后再存放到 List</p>
</li>
<li>
<p>**ScalarHandler：**查询单个值对象</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 测试查询:查询一条记录</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 使用ResultSetHandler的实现类：BeanHandler</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testQueryInstance</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>{</span><br><span class="line">	QueryRunner runner = <span class="keyword">new</span> QueryRunner();</span><br><span class="line"></span><br><span class="line">	Connection conn = JDBCUtils.getConnection3();</span><br><span class="line">	String sql = <span class="string">"select id,name,email,birth from customers where id = ?"</span>;</span><br><span class="line"></span><br><span class="line">	BeanHandler&lt;Customer&gt; handler = <span class="keyword">new</span> BeanHandler&lt;&gt;(Customer.class);</span><br><span class="line">	Customer customer = runner.query(conn, sql, handler, <span class="number">23</span>);</span><br><span class="line">	System.out.println(customer);</span><br><span class="line">	JDBCUtils.closeResource(conn, <span class="keyword">null</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 测试查询:查询多条记录构成的集合</span></span><br><span class="line"><span class="comment"> * 使用ResultSetHandler的实现类：BeanListHandler</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testQueryList</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>{</span><br><span class="line">	QueryRunner runner = <span class="keyword">new</span> QueryRunner();</span><br><span class="line"></span><br><span class="line">	Connection conn = JDBCUtils.getConnection3();</span><br><span class="line">	String sql = <span class="string">"select id,name,email,birth from customers where id &lt; ?"</span>;</span><br><span class="line"></span><br><span class="line">	BeanListHandler&lt;Customer&gt; handler = <span class="keyword">new</span> BeanListHandler&lt;&gt;(Customer.class);</span><br><span class="line">	List&lt;Customer&gt; list = runner.query(conn, sql, handler, <span class="number">23</span>);</span><br><span class="line">	list.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">	JDBCUtils.closeResource(conn, <span class="keyword">null</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 自定义ResultSetHandler的实现类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testQueryInstance1</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>{</span><br><span class="line">	QueryRunner runner = <span class="keyword">new</span> QueryRunner();</span><br><span class="line"></span><br><span class="line">	Connection conn = JDBCUtils.getConnection3();</span><br><span class="line"></span><br><span class="line">	String sql = <span class="string">"select id,name,email,birth from customers where id = ?"</span>;</span><br><span class="line"></span><br><span class="line">	ResultSetHandler&lt;Customer&gt; handler = <span class="keyword">new</span> ResultSetHandler&lt;Customer&gt;() {</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> Customer <span class="title">handle</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException </span>{</span><br><span class="line">			System.out.println(<span class="string">"handle"</span>);</span><br><span class="line">            <span class="keyword">if</span>(rs.next()){</span><br><span class="line">                <span class="keyword">int</span> id = rs.getInt(<span class="string">"id"</span>);</span><br><span class="line">                String name = rs.getString(<span class="string">"name"</span>);</span><br><span class="line">                String email = rs.getString(<span class="string">"email"</span>);</span><br><span class="line">                Date birth = rs.getDate(<span class="string">"birth"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Customer(id, name, email, birth);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		}</span><br><span class="line">	};</span><br><span class="line"></span><br><span class="line">	Customer customer = runner.query(conn, sql, handler, <span class="number">23</span>);</span><br><span class="line"></span><br><span class="line">	System.out.println(customer);</span><br><span class="line"></span><br><span class="line">	JDBCUtils.closeResource(conn, <span class="keyword">null</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 如何查询类似于最大的，最小的，平均的，总和，个数相关的数据，</span></span><br><span class="line"><span class="comment"> * 使用ScalarHandler</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testQueryValue</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>{</span><br><span class="line">	QueryRunner runner = <span class="keyword">new</span> QueryRunner();</span><br><span class="line"></span><br><span class="line">	Connection conn = JDBCUtils.getConnection3();</span><br><span class="line"></span><br><span class="line">	String sql = <span class="string">"select max(birth) from customers"</span>;</span><br><span class="line">	ScalarHandler handler = <span class="keyword">new</span> ScalarHandler();</span><br><span class="line">	Date birth = (Date) runner.query(conn, sql, handler);</span><br><span class="line">	System.out.println(birth);</span><br><span class="line"></span><br><span class="line">	JDBCUtils.closeResource(conn, <span class="keyword">null</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="数据库事务">数据库事务<a title="#数据库事务" href="#数据库事务"></a></h1>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testJDBCTransaction</span><span class="params">()</span> </span>{</span><br><span class="line">	Connection conn = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">try</span> {</span><br><span class="line">		<span class="comment">// 1.获取数据库连接</span></span><br><span class="line">		conn = JDBCUtils.getConnection();</span><br><span class="line">		<span class="comment">// 2.开启事务</span></span><br><span class="line">		conn.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">		<span class="comment">// 3.进行数据库操作</span></span><br><span class="line">		String sql1 = <span class="string">"update user_table set balance = balance - 100 where user = ?"</span>;</span><br><span class="line">		update(conn, sql1, <span class="string">"AA"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 模拟网络异常</span></span><br><span class="line">		<span class="comment">//System.out.println(10 / 0);</span></span><br><span class="line"></span><br><span class="line">		String sql2 = <span class="string">"update user_table set balance = balance + 100 where user = ?"</span>;</span><br><span class="line">		update(conn, sql2, <span class="string">"BB"</span>);</span><br><span class="line">		<span class="comment">// 4.若没有异常，则提交事务</span></span><br><span class="line">		conn.commit();</span><br><span class="line">	} <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">		<span class="comment">// 5.若有异常，则回滚事务</span></span><br><span class="line">		<span class="keyword">try</span> {</span><br><span class="line">			conn.rollback();</span><br><span class="line">		} <span class="keyword">catch</span> (SQLException e1) {</span><br><span class="line">			e1.printStackTrace();</span><br><span class="line">		}</span><br><span class="line">    } <span class="keyword">finally</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">			<span class="comment">//6.恢复每次DML操作的自动提交功能</span></span><br><span class="line">			conn.setAutoCommit(<span class="keyword">true</span>);</span><br><span class="line">		} <span class="keyword">catch</span> (SQLException e) {</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		}</span><br><span class="line">        <span class="comment">//7.关闭连接</span></span><br><span class="line">		JDBCUtils.closeResource(conn, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><a href="https://github.com/Mvbbb/resources/blob/master/JDBC/%E5%B0%9A%E7%A1%85%E8%B0%B7_%E5%AE%8B%E7%BA%A2%E5%BA%B7_JDBC.md" target="_blank" rel="external nofollow noopener">参考文档</a></p>
<div><h1 id="推荐文章">推荐文章<a title="#推荐文章" href="%e6%8e%a8%e8%8d%90%e6%96%87%e7%ab%a0"></a></h1><ul><li><a href="https://mvbbb.github.io/cxnppw/">使用 Java 实现简单的 WebServer</a></li><li><a href="https://mvbbb.github.io/sn0gdd/">《码出高效》笔记</a></li><li><a href="https://mvbbb.github.io/nwg3e5/">Java 细节</a></li><li><a href="https://kevin1061517.github.io/blog/posts/Java/8f30/">Practical Java筆記</a></li></ul></div></div><is-f class="φcc φv φs"><!----><ul class="φcg"><li class="φce"><strong class="φcf">Author<span>:</span></strong><p class="φcd">Mvbbb</p></li><li class="φce"><strong class="φcf">Link<span>:</span></strong><p class="φcd"><a href="https://mvbbb.github.io/hy5u9w/" title="JDBC与mysql数据库交互">https://mvbbb.github.io/hy5u9w/</a></p></li><li class="φce"><strong class="φcf">Copyright<span>:</span></strong><p class="φcd">Attribution-NonCommercial-NoDerivatives 4.0 International (<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener" target="_blank">CC BY-NC-ND 4.0</a>)</p></li><!----></ul><!----></is-f><!----><!----><!----></article><footer class="φgb φh"><div class="φgg"><is-m class="φet"><a class="φeu φs φq" href="/tags/Java">Java</a></is-m><is-m class="φet"><a class="φeu φs φq" href="/tags/JavaWeb">JavaWeb</a></is-m><is-m class="φet"><a class="φeu φs φq" href="/tags/MySql">MySql</a></is-m><!----></div><!----><div class="φgc"><a class="φgd φgf φu" href="/lsrgfy">算法竞赛入门经典</a><!----><a class="φgd φge φu" href="/ce37t7">LeetCode 数据库</a><!----></div><!----></footer><is-e class="φbz φh"><div issnippet="" class="φbh"><div id="tcomment"></div>


</div><!----><!----><!----><!----></is-e><!----><!----><!----></is-s><!----></main><!----></div></div></div><is-g class="φch"><div class="φcq"><span class="φbg icon-up"></span><span class="φbg icon-down"></span><!----><span class="φbg icon-toc"></span><!----><span class="φbg icon-search"></span><!----></div><div class="φcj φck"><svg class="φcp"><defs><filter id="dp"><feGaussianBlur in="SourceGraphic" stdDeviation="2"></feGaussianBlur></filter></defs><circle filter="url(#dp)" fill="rgba(0,0,0,.3)" cx="50%" cy="52%" r="44%"></circle><circle cx="50%" cy="50%" r="44%" class="φcl φbb"></circle><circle cx="50%" cy="50%" r="48%" class="φco φba" stroke-dasharray="0% 314.15926%"></circle><!----><g class="φcm"><circle r=".2rem" cx="0" cy="-.8rem"></circle><circle r=".2rem"></circle><circle r=".2rem" cx="0" cy=".8rem"></circle></g><!----></svg></div></is-g><is-n class="φev φf"><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">1 </span><!----><span class="φfc">原生 JDBC 获取数据库连接</span></a><div class="φex"><a class="φfa φu"><span class="φfb φd">1.1 </span><!----><span class="φfc">方式一: 最简单的</span></a><!----></div><div class="φex"><a class="φfa φu"><span class="φfb φd">1.2 </span><!----><span class="φfc">方式二: 使用反射</span></a><!----></div><div class="φex"><a class="φfa φu"><span class="φfb φd">1.3 </span><!----><span class="φfc">方式三: 使用 DriverManager</span></a><!----></div><div class="φex"><a class="φfa φu"><span class="φfb φd">1.4 </span><!----><span class="φfc">方式四: 使用配置文件</span></a><!----></div><!----><!----><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">2 </span><!----><span class="φfc">使用 PreparedStatement 实现 CRUD 操作</span></a><div class="φex"><a class="φfa φu"><span class="φfb φd">2.1 </span><!----><span class="φfc">增删改</span></a><!----></div><div class="φex"><a class="φfa φu"><span class="φfb φd">2.2 </span><!----><span class="φfc">查询</span></a><!----></div><!----><!----><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">3 </span><!----><span class="φfc">使用 Druid 数据库连接池获取数据库连接</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">4 </span><!----><span class="φfc">Apache-DBUtils 实现 CRUD 操作</span></a><div class="φex"><a class="φfa φu"><span class="φfb φd">4.1 </span><!----><span class="φfc">增删改</span></a><!----></div><div class="φex"><a class="φfa φu"><span class="φfb φd">4.2 </span><!----><span class="φfc">查询</span></a><!----></div><!----><!----><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">5 </span><!----><span class="φfc">数据库事务</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">6 </span><!----><span class="φfc">推荐文章</span></a><!----></div><!----></is-n><!----><!----></is-a><!-- hexo injector body_begin end --><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/twikoo@1.0.0/dist/twikoo.all.min.js"></script><script src="/runtime.b15aa7186c559b492b7d.js"></script><script src="/polyfills.824ff89b5f3ca4543a31.js"></script><script src="/main.03652fc423a687c817e8.js"></script><!-- hexo injector body_end end -->

</body></html>