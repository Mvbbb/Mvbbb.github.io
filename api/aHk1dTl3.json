{"title":"JDBC与mysql数据库交互","date":"2020-09-27T01:07:41.000Z","date_formatted":{"ll":"Sep 27, 2020","L":"09/27/2020","MM-DD":"09-27"},"link":"hy5u9w","comments":true,"tags":["Java","JavaWeb","MySql"],"categories":["Java","JavaWeb"],"updated":"2021-02-03T04:20:59.949Z","content":"<h1 id=\"原生-jdbc-获取数据库连接\">原生 JDBC 获取数据库连接<a title=\"#原生-jdbc-获取数据库连接\" href=\"#原生-jdbc-获取数据库连接\"></a></h1>\n<h2 id=\"方式一:-最简单的\">方式一: 最简单的<a title=\"#方式一:-最简单的\" href=\"#方式一:-最简单的\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testConnection1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//1.提供java.sql.Driver接口实现类的对象</span></span><br><span class=\"line\">        Driver driver = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        driver = <span class=\"keyword\">new</span> com.mysql.jdbc.Driver();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//2.提供url，指明具体操作的数据</span></span><br><span class=\"line\">        String url = <span class=\"string\">&quot;jdbc:mysql://localhost:3306/test&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//3.提供Properties的对象，指明用户名和密码</span></span><br><span class=\"line\">        Properties info = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">        info.setProperty(<span class=\"string\">&quot;user&quot;</span>, <span class=\"string\">&quot;root&quot;</span>);</span><br><span class=\"line\">        info.setProperty(<span class=\"string\">&quot;password&quot;</span>, <span class=\"string\">&quot;abc123&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//4.调用driver的connect()，获取连接</span></span><br><span class=\"line\">        Connection conn = driver.connect(url, info);</span><br><span class=\"line\">        System.out.println(conn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (SQLException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>实现简单</p>\n<h2 id=\"方式二:-使用反射\">方式二: 使用反射<a title=\"#方式二:-使用反射\" href=\"#方式二:-使用反射\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testConnection2</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//1.实例化Driver</span></span><br><span class=\"line\">        String className = <span class=\"string\">&quot;com.mysql.jdbc.Driver&quot;</span>;</span><br><span class=\"line\">        Class clazz = Class.forName(className);</span><br><span class=\"line\">        Driver driver = (Driver) clazz.newInstance();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//2.提供url，指明具体操作的数据</span></span><br><span class=\"line\">        String url = <span class=\"string\">&quot;jdbc:mysql://localhost:3306/test&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//3.提供Properties的对象，指明用户名和密码</span></span><br><span class=\"line\">        Properties info = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">        info.setProperty(<span class=\"string\">&quot;user&quot;</span>, <span class=\"string\">&quot;root&quot;</span>);</span><br><span class=\"line\">        info.setProperty(<span class=\"string\">&quot;password&quot;</span>, <span class=\"string\">&quot;abc123&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//4.调用driver的connect()，获取连接</span></span><br><span class=\"line\">        Connection conn = driver.connect(url, info);</span><br><span class=\"line\">        System.out.println(conn);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"方式三:-使用-drivermanager\">方式三: 使用 DriverManager<a title=\"#方式三:-使用-drivermanager\" href=\"#方式三:-使用-drivermanager\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testConnection4</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//1.数据库连接的4个基本要素：</span></span><br><span class=\"line\">        String url = <span class=\"string\">&quot;jdbc:mysql://localhost:3306/test&quot;</span>;</span><br><span class=\"line\">        String user = <span class=\"string\">&quot;root&quot;</span>;</span><br><span class=\"line\">        String password = <span class=\"string\">&quot;abc123&quot;</span>;</span><br><span class=\"line\">        String driverName = <span class=\"string\">&quot;com.mysql.jdbc.Driver&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//2.加载驱动 （①实例化Driver ②注册驱动）</span></span><br><span class=\"line\">        Class.forName(driverName);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//Driver driver = (Driver) clazz.newInstance();</span></span><br><span class=\"line\">        <span class=\"comment\">//3.注册驱动</span></span><br><span class=\"line\">        <span class=\"comment\">//DriverManager.registerDriver(driver);</span></span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">            可以注释掉上述代码的原因，是因为在mysql的Driver类中声明有：</span></span><br><span class=\"line\"><span class=\"comment\">            static &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    DriverManager.registerDriver(new Driver());</span></span><br><span class=\"line\"><span class=\"comment\">                &#125; catch (SQLException var1) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    throw new RuntimeException(&quot;Can&#x27;t register driver!&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">             */</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//3.获取连接</span></span><br><span class=\"line\">        Connection conn = DriverManager.getConnection(url, user, password);</span><br><span class=\"line\">        System.out.println(conn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>说明：不必显式的注册驱动了。因为在 DriverManager 的源码中已经存在静态代码块，实现了驱动的注册。</p>\n<h2 id=\"方式四:-使用配置文件\">方式四: 使用配置文件<a title=\"#方式四:-使用配置文件\" href=\"#方式四:-使用配置文件\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span>  <span class=\"keyword\">void</span> <span class=\"title\">testConnection5</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.加载配置文件</span></span><br><span class=\"line\">    InputStream is = ConnectionTest.class.getClassLoader().getResourceAsStream(<span class=\"string\">&quot;jdbc.properties&quot;</span>);</span><br><span class=\"line\">    Properties pros = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">    pros.load(is);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2.读取配置信息</span></span><br><span class=\"line\">    String user = pros.getProperty(<span class=\"string\">&quot;user&quot;</span>);</span><br><span class=\"line\">    String password = pros.getProperty(<span class=\"string\">&quot;password&quot;</span>);</span><br><span class=\"line\">    String url = pros.getProperty(<span class=\"string\">&quot;url&quot;</span>);</span><br><span class=\"line\">    String driverClass = pros.getProperty(<span class=\"string\">&quot;driverClass&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//3.加载驱动</span></span><br><span class=\"line\">    Class.forName(driverClass);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4.获取连接</span></span><br><span class=\"line\">    Connection conn = DriverManager.getConnection(url,user,password);</span><br><span class=\"line\">    System.out.println(conn);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>其中，配置文件声明在工程的 src 目录下：【jdbc.properties】</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user=root</span><br><span class=\"line\">password=abc123</span><br><span class=\"line\">url=jdbc:mysql:<span class=\"comment\">//localhost:3306/test</span></span><br><span class=\"line\">driverClass=com.mysql.jdbc.Driver</span><br></pre></td></tr></table></figure>\n<p>说明：使用配置文件的方式保存配置信息，在代码中加载配置文件</p>\n<blockquote>\n<p>使用配置文件的好处：<br>\n① 实现了代码和数据的分离，如果需要修改配置信息，直接在配置文件中修改，不需要深入代码<br>\n② 如果修改了配置信息，省去重新编译的过程。</p>\n</blockquote>\n<h1 id=\"使用-preparedstatement-实现-crud-操作\">使用 PreparedStatement 实现 CRUD 操作<a title=\"#使用-preparedstatement-实现-crud-操作\" href=\"#使用-preparedstatement-实现-crud-操作\"></a></h1>\n<h2 id=\"增删改\">增删改<a title=\"#增删改\" href=\"#增删改\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//通用的增、删、改操作（体现一：增、删、改 ； 体现二：针对于不同的表）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(String sql,Object ... args)</span></span>&#123;</span><br><span class=\"line\">    Connection conn = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    PreparedStatement ps = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//1.获取数据库的连接</span></span><br><span class=\"line\">        conn = JDBCUtils.getConnection();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//2.获取PreparedStatement的实例 (或：预编译sql语句)</span></span><br><span class=\"line\">        ps = conn.prepareStatement(sql);</span><br><span class=\"line\">        <span class=\"comment\">//3.填充占位符</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i &lt; args.length;i++)&#123;</span><br><span class=\"line\">            ps.setObject(i + <span class=\"number\">1</span>, args[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//4.执行sql语句</span></span><br><span class=\"line\">        ps.execute();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//5.关闭资源</span></span><br><span class=\"line\">        JDBCUtils.closeResource(conn, ps);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"查询\">查询<a title=\"#查询\" href=\"#查询\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 通用的针对于不同表的查询:返回一个对象 (version 1.0)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> &lt;T&gt; <span class=\"function\">T <span class=\"title\">getInstance</span><span class=\"params\">(Class&lt;T&gt; clazz, String sql, Object... args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Connection conn = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    PreparedStatement ps = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    ResultSet rs = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 1.获取数据库连接</span></span><br><span class=\"line\">        conn = JDBCUtils.getConnection();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 2.预编译sql语句，得到PreparedStatement对象</span></span><br><span class=\"line\">        ps = conn.prepareStatement(sql);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 3.填充占位符</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; args.length; i++) &#123;</span><br><span class=\"line\">            ps.setObject(i + <span class=\"number\">1</span>, args[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 4.执行executeQuery(),得到结果集：ResultSet</span></span><br><span class=\"line\">        rs = ps.executeQuery();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 5.得到结果集的元数据：ResultSetMetaData</span></span><br><span class=\"line\">        ResultSetMetaData rsmd = rs.getMetaData();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 6.1通过ResultSetMetaData得到columnCount,columnLabel；通过ResultSet得到列值</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> columnCount = rsmd.getColumnCount();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (rs.next()) &#123;</span><br><span class=\"line\">            T t = clazz.newInstance();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; columnCount; i++) &#123;<span class=\"comment\">// 遍历每一个列</span></span><br><span class=\"line\">                <span class=\"comment\">// 获取列值</span></span><br><span class=\"line\">                Object columnVal = rs.getObject(i + <span class=\"number\">1</span>);</span><br><span class=\"line\">                <span class=\"comment\">// 获取列的别名:列的别名，使用类的属性名充当</span></span><br><span class=\"line\">                String columnLabel = rsmd.getColumnLabel(i + <span class=\"number\">1</span>);</span><br><span class=\"line\">                <span class=\"comment\">// 6.2使用反射，给对象的相应属性赋值</span></span><br><span class=\"line\">                Field field = clazz.getDeclaredField(columnLabel);</span><br><span class=\"line\">                field.setAccessible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">                field.set(t, columnVal);</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> t;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 7.关闭资源</span></span><br><span class=\"line\">        JDBCUtils.closeResource(conn, ps, rs);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"使用-druid-数据库连接池获取数据库连接\">使用 Druid 数据库连接池获取数据库连接<a title=\"#使用-druid-数据库连接池获取数据库连接\" href=\"#使用-druid-数据库连接池获取数据库连接\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestDruid</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">\t\tProperties pro = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">        pro.load(TestDruid.class.getClassLoader().getResourceAsStream(<span class=\"string\">&quot;druid.properties&quot;</span>));</span><br><span class=\"line\">\t\tDataSource ds = DruidDataSourceFactory.createDataSource(pro);</span><br><span class=\"line\">\t\tConnection conn = ds.getConnection();</span><br><span class=\"line\">\t\tSystem.out.println(conn);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"apache-dbutils-实现-crud-操作\">Apache-DBUtils 实现 CRUD 操作<a title=\"#apache-dbutils-实现-crud-操作\" href=\"#apache-dbutils-实现-crud-操作\"></a></h1>\n<h2 id=\"增删改-1\">增删改<a title=\"#增删改-1\" href=\"#增删改-1\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 测试添加</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testInsert</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">\tQueryRunner runner = <span class=\"keyword\">new</span> QueryRunner();</span><br><span class=\"line\">\tConnection conn = JDBCUtils.getConnection3();</span><br><span class=\"line\">\tString sql = <span class=\"string\">&quot;insert into customers(name,email,birth)values(?,?,?)&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> count = runner.update(conn, sql, <span class=\"string\">&quot;何成飞&quot;</span>, <span class=\"string\">&quot;he@qq.com&quot;</span>, <span class=\"string\">&quot;1992-09-08&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\tSystem.out.println(<span class=\"string\">&quot;添加了&quot;</span> + count + <span class=\"string\">&quot;条记录&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\tJDBCUtils.closeResource(conn, <span class=\"keyword\">null</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 测试删除</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testDelete</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">\tQueryRunner runner = <span class=\"keyword\">new</span> QueryRunner();</span><br><span class=\"line\">\tConnection conn = JDBCUtils.getConnection3();</span><br><span class=\"line\">\tString sql = <span class=\"string\">&quot;delete from customers where id &lt; ?&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> count = runner.update(conn, sql,<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\tSystem.out.println(<span class=\"string\">&quot;删除了&quot;</span> + count + <span class=\"string\">&quot;条记录&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\tJDBCUtils.closeResource(conn, <span class=\"keyword\">null</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"查询-1\">查询<a title=\"#查询-1\" href=\"#查询-1\"></a></h2>\n<p>ResultSetHandler 接口及实现类, 用于接收查询结果.<br>\n该接口用于处理 java.sql.ResultSet，将数据按要求转换为另一种形式。</p>\n<p>ResultSetHandler 接口提供了一个单独的方法：Object handle (java.sql.ResultSet .rs)。</p>\n<p>接口的主要实现类：</p>\n<ul>\n<li>\n<p>ArrayHandler：把结果集中的第一行数据转成对象数组。</p>\n</li>\n<li>\n<p>ArrayListHandler：把结果集中的每一行数据都转成一个数组，再存放到 List 中。</p>\n</li>\n<li>\n<p>**BeanHandler：**将结果集中的第一行数据封装到一个对应的 JavaBean 实例中。</p>\n</li>\n<li>\n<p>**BeanListHandler：**将结果集中的每一行数据都封装到一个对应的 JavaBean 实例中，存放到 List 里。</p>\n</li>\n<li>\n<p>ColumnListHandler：将结果集中某一列的数据存放到 List 中。</p>\n</li>\n<li>\n<p>KeyedHandler(name)：将结果集中的每一行数据都封装到一个 Map 里，再把这些 map 再存到一个 map 里，其 key 为指定的 key。</p>\n</li>\n<li>\n<p>**MapHandler：**将结果集中的第一行数据封装到一个 Map 里，key 是列名，value 就是对应的值。</p>\n</li>\n<li>\n<p>**MapListHandler：**将结果集中的每一行数据都封装到一个 Map 里，然后再存放到 List</p>\n</li>\n<li>\n<p>**ScalarHandler：**查询单个值对象</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * 测试查询:查询一条记录</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * 使用ResultSetHandler的实现类：BeanHandler</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testQueryInstance</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</span><br><span class=\"line\">\tQueryRunner runner = <span class=\"keyword\">new</span> QueryRunner();</span><br><span class=\"line\"></span><br><span class=\"line\">\tConnection conn = JDBCUtils.getConnection3();</span><br><span class=\"line\">\tString sql = <span class=\"string\">&quot;select id,name,email,birth from customers where id = ?&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\tBeanHandler&lt;Customer&gt; handler = <span class=\"keyword\">new</span> BeanHandler&lt;&gt;(Customer.class);</span><br><span class=\"line\">\tCustomer customer = runner.query(conn, sql, handler, <span class=\"number\">23</span>);</span><br><span class=\"line\">\tSystem.out.println(customer);</span><br><span class=\"line\">\tJDBCUtils.closeResource(conn, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * 测试查询:查询多条记录构成的集合</span></span><br><span class=\"line\"><span class=\"comment\"> * 使用ResultSetHandler的实现类：BeanListHandler</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testQueryList</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</span><br><span class=\"line\">\tQueryRunner runner = <span class=\"keyword\">new</span> QueryRunner();</span><br><span class=\"line\"></span><br><span class=\"line\">\tConnection conn = JDBCUtils.getConnection3();</span><br><span class=\"line\">\tString sql = <span class=\"string\">&quot;select id,name,email,birth from customers where id &lt; ?&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\tBeanListHandler&lt;Customer&gt; handler = <span class=\"keyword\">new</span> BeanListHandler&lt;&gt;(Customer.class);</span><br><span class=\"line\">\tList&lt;Customer&gt; list = runner.query(conn, sql, handler, <span class=\"number\">23</span>);</span><br><span class=\"line\">\tlist.forEach(System.out::println);</span><br><span class=\"line\"></span><br><span class=\"line\">\tJDBCUtils.closeResource(conn, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * 自定义ResultSetHandler的实现类</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testQueryInstance1</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</span><br><span class=\"line\">\tQueryRunner runner = <span class=\"keyword\">new</span> QueryRunner();</span><br><span class=\"line\"></span><br><span class=\"line\">\tConnection conn = JDBCUtils.getConnection3();</span><br><span class=\"line\"></span><br><span class=\"line\">\tString sql = <span class=\"string\">&quot;select id,name,email,birth from customers where id = ?&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\tResultSetHandler&lt;Customer&gt; handler = <span class=\"keyword\">new</span> ResultSetHandler&lt;Customer&gt;() &#123;</span><br><span class=\"line\">\t\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">public</span> Customer <span class=\"title\">handle</span><span class=\"params\">(ResultSet rs)</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(<span class=\"string\">&quot;handle&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(rs.next())&#123;</span><br><span class=\"line\">                <span class=\"keyword\">int</span> id = rs.getInt(<span class=\"string\">&quot;id&quot;</span>);</span><br><span class=\"line\">                String name = rs.getString(<span class=\"string\">&quot;name&quot;</span>);</span><br><span class=\"line\">                String email = rs.getString(<span class=\"string\">&quot;email&quot;</span>);</span><br><span class=\"line\">                Date birth = rs.getDate(<span class=\"string\">&quot;birth&quot;</span>);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Customer(id, name, email, birth);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">\tCustomer customer = runner.query(conn, sql, handler, <span class=\"number\">23</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\tSystem.out.println(customer);</span><br><span class=\"line\"></span><br><span class=\"line\">\tJDBCUtils.closeResource(conn, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * 如何查询类似于最大的，最小的，平均的，总和，个数相关的数据，</span></span><br><span class=\"line\"><span class=\"comment\"> * 使用ScalarHandler</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testQueryValue</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</span><br><span class=\"line\">\tQueryRunner runner = <span class=\"keyword\">new</span> QueryRunner();</span><br><span class=\"line\"></span><br><span class=\"line\">\tConnection conn = JDBCUtils.getConnection3();</span><br><span class=\"line\"></span><br><span class=\"line\">\tString sql = <span class=\"string\">&quot;select max(birth) from customers&quot;</span>;</span><br><span class=\"line\">\tScalarHandler handler = <span class=\"keyword\">new</span> ScalarHandler();</span><br><span class=\"line\">\tDate birth = (Date) runner.query(conn, sql, handler);</span><br><span class=\"line\">\tSystem.out.println(birth);</span><br><span class=\"line\"></span><br><span class=\"line\">\tJDBCUtils.closeResource(conn, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"数据库事务\">数据库事务<a title=\"#数据库事务\" href=\"#数据库事务\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testJDBCTransaction</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tConnection conn = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 1.获取数据库连接</span></span><br><span class=\"line\">\t\tconn = JDBCUtils.getConnection();</span><br><span class=\"line\">\t\t<span class=\"comment\">// 2.开启事务</span></span><br><span class=\"line\">\t\tconn.setAutoCommit(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 3.进行数据库操作</span></span><br><span class=\"line\">\t\tString sql1 = <span class=\"string\">&quot;update user_table set balance = balance - 100 where user = ?&quot;</span>;</span><br><span class=\"line\">\t\tupdate(conn, sql1, <span class=\"string\">&quot;AA&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// 模拟网络异常</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//System.out.println(10 / 0);</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\tString sql2 = <span class=\"string\">&quot;update user_table set balance = balance + 100 where user = ?&quot;</span>;</span><br><span class=\"line\">\t\tupdate(conn, sql2, <span class=\"string\">&quot;BB&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 4.若没有异常，则提交事务</span></span><br><span class=\"line\">\t\tconn.commit();</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">\t\te.printStackTrace();</span><br><span class=\"line\">\t\t<span class=\"comment\">// 5.若有异常，则回滚事务</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t\tconn.rollback();</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">catch</span> (SQLException e1) &#123;</span><br><span class=\"line\">\t\t\te1.printStackTrace();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//6.恢复每次DML操作的自动提交功能</span></span><br><span class=\"line\">\t\t\tconn.setAutoCommit(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">catch</span> (SQLException e) &#123;</span><br><span class=\"line\">\t\t\te.printStackTrace();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        <span class=\"comment\">//7.关闭连接</span></span><br><span class=\"line\">\t\tJDBCUtils.closeResource(conn, <span class=\"keyword\">null</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://github.com/Mvbbb/resources/blob/master/JDBC/%E5%B0%9A%E7%A1%85%E8%B0%B7_%E5%AE%8B%E7%BA%A2%E5%BA%B7_JDBC.md\" target=\"_blank\" rel=\"external nofollow noopener\">参考文档</a></p>\n<div><h1 id=\"推荐文章\">推荐文章<a title=\"#推荐文章\" href=\"%e6%8e%a8%e8%8d%90%e6%96%87%e7%ab%a0\"></a></h1><ul><li><a href=\"https://mvbbb.github.io/cxnppw/\">使用 Java 实现简单的 WebServer</a></li><li><a href=\"https://mvbbb.github.io/sn0gdd/\">《码出高效》笔记</a></li><li><a href=\"https://mvbbb.github.io/nwg3e5/\">Java 细节</a></li><li><a href=\"https://kevin1061517.github.io/blog/posts/Java/8f30/\">Practical Java筆記</a></li></ul></div>","prev":{"title":"算法竞赛入门经典","link":"lsrgfy"},"next":{"title":"LeetCode 数据库","link":"ce37t7"},"plink":"https://mvbbb.github.io/hy5u9w/","toc":[{"id":"原生-jdbc-获取数据库连接","title":"原生 JDBC 获取数据库连接","index":"1","children":[{"id":"方式一:-最简单的","title":"方式一: 最简单的","index":"1.1"},{"id":"方式二:-使用反射","title":"方式二: 使用反射","index":"1.2"},{"id":"方式三:-使用-drivermanager","title":"方式三: 使用 DriverManager","index":"1.3"},{"id":"方式四:-使用配置文件","title":"方式四: 使用配置文件","index":"1.4"}]},{"id":"使用-preparedstatement-实现-crud-操作","title":"使用 PreparedStatement 实现 CRUD 操作","index":"2","children":[{"id":"增删改","title":"增删改","index":"2.1"},{"id":"查询","title":"查询","index":"2.2"}]},{"id":"使用-druid-数据库连接池获取数据库连接","title":"使用 Druid 数据库连接池获取数据库连接","index":"3"},{"id":"apache-dbutils-实现-crud-操作","title":"Apache-DBUtils 实现 CRUD 操作","index":"4","children":[{"id":"增删改-1","title":"增删改","index":"4.1"},{"id":"查询-1","title":"查询","index":"4.2"}]},{"id":"数据库事务","title":"数据库事务","index":"5"},{"id":"推荐文章","title":"推荐文章","index":"6"}],"copyright":{"author":"Mvbbb","link":"<a href=\"https://mvbbb.github.io/hy5u9w/\" title=\"JDBC与mysql数据库交互\">https://mvbbb.github.io/hy5u9w/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}