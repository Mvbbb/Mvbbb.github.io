{"title":"LeetCode 数据库","date":"2020-09-21T09:29:48.000Z","date_formatted":{"ll":"Sep 21, 2020","L":"09/21/2020","MM-DD":"09-21"},"link":"ce37t7","comments":true,"tags":["MySQL","力扣"],"categories":["数据库"],"updated":"2021-02-03T04:20:59.961Z","content":"<h1 id=\"176-第二高的薪水\">176 第二高的薪水<a title=\"#176-第二高的薪水\" href=\"#176-第二高的薪水\"></a></h1>\n<blockquote>\n<p><a href=\"https://leetcode-cn.com/problems/second-highest-salary\" target=\"_blank\" rel=\"external nofollow noopener\">https://leetcode-cn.com/problems/second-highest-salary</a></p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> ifnull(</span><br><span class=\"line\">    (<span class=\"keyword\">select</span> <span class=\"keyword\">distinct</span> salary <span class=\"keyword\">from</span> Employee <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> salary <span class=\"keyword\">desc</span> limit <span class=\"number\">1</span>,<span class=\"number\">1</span>),</span><br><span class=\"line\">    <span class=\"keyword\">null</span></span><br><span class=\"line\">)<span class=\"keyword\">as</span> <span class=\"string\">&#x27;SecondHighestSalary&#x27;</span>;</span><br></pre></td></tr></table></figure>\n<h1 id=\"181- -超过经理收入的员工\">181   超过经理收入的员工<a title=\"#181- -超过经理收入的员工\" href=\"#181- -超过经理收入的员工\"></a></h1>\n<blockquote>\n<p><a href=\"https://leetcode-cn.com/problems/employees-earning-more-than-their-managers/\" target=\"_blank\" rel=\"external nofollow noopener\">https://leetcode-cn.com/problems/employees-earning-more-than-their-managers/</a></p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> e1.name <span class=\"keyword\">as</span> Employee <span class=\"keyword\">from</span> Employee e1</span><br><span class=\"line\"><span class=\"keyword\">join</span> Employee e2</span><br><span class=\"line\"><span class=\"keyword\">on</span> e1.ManagerId<span class=\"operator\">=</span>e2.Id <span class=\"keyword\">and</span> e1.Salary <span class=\"operator\">&gt;</span> e2.Salary;</span><br></pre></td></tr></table></figure>\n<h1 id=\"182-查找重复的电子邮箱\">182 查找重复的电子邮箱<a title=\"#182-查找重复的电子邮箱\" href=\"#182-查找重复的电子邮箱\"></a></h1>\n<blockquote>\n<p><a href=\"https://leetcode-cn.com/problems/duplicate-emails/\" target=\"_blank\" rel=\"external nofollow noopener\">https://leetcode-cn.com/problems/duplicate-emails/</a></p>\n</blockquote>\n<p>看到“找重复”的关键字眼，首先要用分组函数（group by），再用聚合函数中的计数函数 count()给姓名列计数。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> Email <span class=\"keyword\">from</span> Person</span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> Email</span><br><span class=\"line\"><span class=\"keyword\">having</span> <span class=\"built_in\">count</span>(Email)<span class=\"operator\">&gt;</span><span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure><div><h1 id=\"推荐文章\">推荐文章<a title=\"#推荐文章\" href=\"%e6%8e%a8%e8%8d%90%e6%96%87%e7%ab%a0\"></a></h1><ul><li><a href=\"https://mvbbb.github.io/zwggs9/\">MySQL 基础</a></li></ul></div>","prev":{"title":"JDBC与mysql数据库交互","link":"hy5u9w"},"next":{"title":"MySQL 基础","link":"zwggs9"},"plink":"https://mvbbb.github.io/ce37t7/","toc":[{"id":"176-第二高的薪水","title":"176 第二高的薪水","index":"1"},{"id":"181- -超过经理收入的员工","title":"181   超过经理收入的员工","index":"2"},{"id":"182-查找重复的电子邮箱","title":"182 查找重复的电子邮箱","index":"3"},{"id":"推荐文章","title":"推荐文章","index":"4"}],"copyright":{"author":"Mvbbb","link":"<a href=\"https://mvbbb.github.io/ce37t7/\" title=\"LeetCode 数据库\">https://mvbbb.github.io/ce37t7/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}