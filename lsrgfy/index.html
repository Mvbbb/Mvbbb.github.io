<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<meta name="referrer" content="no-referrer">
<title>算法竞赛入门经典 - Yu</title>
<base href="/">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<link rel="canonical" href="https://mvbbb.github.io/lsrgfy/">
<link rel="icon" type="image/x-icon" href="/images/web.png">

<meta name="description" content="冲冲冲!!">
<meta property="og:type" content="website">
<meta property="og:title" content="算法竞赛入门经典">
<meta property="og:url" content="https://mvbbb.github.io/lsrgfy/index.html">
<meta property="og:site_name" content="Yu">
<meta property="og:description" content="冲冲冲!!">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://mvbbb.github.io/lsrgfy/images/avatar.jpg">
<meta property="article:published_time" content="2020-10-01T13:09:45.000Z">
<meta property="article:modified_time" content="2021-02-03T04:20:59.921Z">
<meta property="article:author" content="Mvbbb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mvbbb.github.io/lsrgfy/images/avatar.jpg">
<script type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","publisher":{"@type":"Person","name":"Mvbbb","description":"Who i am,who u are","image":"https://mvbbb.github.io/images/avatar.jpg"},"url":"https://mvbbb.github.io","image":"https://mvbbb.github.io/images/avatar.jpg","description":"Who i am,who u are","author":{"@type":"Person","name":"Mvbbb","description":"Who i am,who u are","image":"https://mvbbb.github.io/images/avatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"}},{"@context":"http://schema.org","@type":"Article","articleSection":"数据结构与算法","url":"https://mvbbb.github.io/lsrgfy/","headline":"算法竞赛入门经典","image":"https://mvbbb.github.io/images/avatar.jpg","datePublished":"2020-10-01T13:09:45.000Z","dateModified":"2021-02-03T04:20:59.921Z","keywords":"","description":"冲冲冲!!","publisher":{"@type":"Organization","name":"Yu","logo":{"@type":"ImageObject","url":"https://mvbbb.github.io/images/avatar.jpg"}},"author":{"@type":"Person","name":"Mvbbb","description":"Who i am,who u are","image":"https://mvbbb.github.io/images/avatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://mvbbb.github.io/lsrgfy/"}}]</script><link rel="alternate" type="application/atom+xml" title="Yu" href="/rss2.xml">
<script async="" src="//www.googletagmanager.com/gtag/js?id=UA-160027215-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)};gtag('js',new Date());gtag('config','UA-160027215-1');</script>
<meta name="theme-color" content=""><script type="application/json" is="state">{&q;api/bHNyZ2Z5.json&q;:{&q;title&q;:&q;算法竞赛入门经典&q;,&q;date&q;:&q;2020-10-01T13:09:45.000Z&q;,&q;date_formatted&q;:{&q;ll&q;:&q;Oct 1, 2020&q;,&q;L&q;:&q;10/01/2020&q;,&q;MM-DD&q;:&q;10-01&q;},&q;link&q;:&q;lsrgfy&q;,&q;comments&q;:true,&q;categories&q;:[&q;备战蓝桥杯&q;,&q;数据结构与算法&q;],&q;updated&q;:&q;2021-02-03T04:20:59.921Z&q;,&q;content&q;:&q;&l;p&g;冲冲冲!!&l;/p&g;\n&l;a id=\&q;more\&q;&g;&l;/a&g;\n&l;h1 id=\&q;破损的键盘\&q;&g;破损的键盘&l;a title=\&q;#破损的键盘\&q; href=\&q;#破损的键盘\&q;&g;&l;/a&g;&l;/h1&g;\n&l;blockquote&g;\n&l;p&g;UVA 11988&l;/p&g;\n&l;/blockquote&g;\n&l;figure class=\&q;highlight cpp\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;cstdio&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;string&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;const&l;/span&g; &l;span class=\&q;keyword\&q;&g;int&l;/span&g; maxn = &l;span class=\&q;number\&q;&g;10e5&l;/span&g; +&l;span class=\&q;number\&q;&g;5&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; last,cur,next[maxn];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;char&l;/span&g; s[maxn];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;// 每次处理一行文本&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(&l;span class=\&q;built_in\&q;&g;scanf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%s&a;quot;&l;/span&g;,s+&l;span class=\&q;number\&q;&g;1&l;/span&g;)==&l;span class=\&q;number\&q;&g;1&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;int&l;/span&g; n=&l;span class=\&q;built_in\&q;&g;strlen&l;/span&g;(s+&l;span class=\&q;number\&q;&g;1&l;/span&g;); &l;span class=\&q;comment\&q;&g;//字符串长度&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cur=last=&l;span class=\&q;number\&q;&g;0&l;/span&g;; &l;span class=\&q;comment\&q;&g;// 空链表, 只有头结点&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        next[&l;span class=\&q;number\&q;&g;0&l;/span&g;]=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 遍历每一个字符&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i=&l;span class=\&q;number\&q;&g;1&l;/span&g;;i&a;lt;=n;i++)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;char&l;/span&g; ch=s[i];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(ch==&l;span class=\&q;string\&q;&g;&a;#x27;[&a;#x27;&l;/span&g;) &l;span class=\&q;comment\&q;&g;// home&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                cur=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;else&l;/span&g; &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(ch==&l;span class=\&q;string\&q;&g;&a;#x27;]&a;#x27;&l;/span&g;) &l;span class=\&q;comment\&q;&g;// end&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                cur=last;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;else&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                next[i]=next[cur];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                next[cur]=i;  &l;span class=\&q;comment\&q;&g;// 把当前节点 (位置为i) 接到链表中&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(cur==last) &l;span class=\&q;comment\&q;&g;// 更新最后一个字符的编号&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    last=i;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                cur=i; &l;span class=\&q;comment\&q;&g;// 移动光标&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i=next[&l;span class=\&q;number\&q;&g;0&l;/span&g;];i!=&l;span class=\&q;number\&q;&g;0&l;/span&g;;i=next[i])&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;built_in\&q;&g;printf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%c&a;quot;&l;/span&g;,s[i]);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;built_in\&q;&g;printf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;\\n&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// this_is_a_[beiju]_text&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 使用 cur 记录当前节点的位置, 方便下个节点的连接&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 使用 last 记录最后一个节点的位置&l;/span&g;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;移动盒子\&q;&g;移动盒子&l;a title=\&q;#移动盒子\&q; href=\&q;#移动盒子\&q;&g;&l;/a&g;&l;/h1&g;\n&l;blockquote&g;\n&l;p&g;UVA 12657&l;/p&g;\n&l;/blockquote&g;\n&l;figure class=\&q;highlight c\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;69&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;70&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;71&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;72&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;73&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;74&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;75&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;76&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;77&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;78&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;79&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;80&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;81&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;82&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;83&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;84&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;85&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;86&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;87&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;88&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;cstdio&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;cstring&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;algorithm&a;gt;    // std::swap&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; &l;span class=\&q;built_in\&q;&g;std&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;typedef&l;/span&g; &l;span class=\&q;keyword\&q;&g;long&l;/span&g; &l;span class=\&q;keyword\&q;&g;long&l;/span&g; ll;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;const&l;/span&g; &l;span class=\&q;keyword\&q;&g;int&l;/span&g; maxn=&l;span class=\&q;number\&q;&g;10e5&l;/span&g;+&l;span class=\&q;number\&q;&g;5&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; left[maxn],right[maxn];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 连接两个节点&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;link&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; l ,&l;span class=\&q;keyword\&q;&g;int&l;/span&g; r)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    right[l]=r;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    left[r]=l;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; n,m,kase=&l;span class=\&q;number\&q;&g;0&l;/span&g; ;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(&l;span class=\&q;built_in\&q;&g;scanf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%d%d&a;quot;&l;/span&g;,&a;amp;n,&a;amp;m)==&l;span class=\&q;number\&q;&g;2&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;//初始化一个双向链表&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i=&l;span class=\&q;number\&q;&g;1&l;/span&g;;i&a;lt;=n;i++)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            left[i]=i&l;span class=\&q;number\&q;&g;-1&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            right[i]=(i+&l;span class=\&q;number\&q;&g;1&l;/span&g;)%(n+&l;span class=\&q;number\&q;&g;1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        right[&l;span class=\&q;number\&q;&g;0&l;/span&g;]=&l;span class=\&q;number\&q;&g;1&l;/span&g;;left[&l;span class=\&q;number\&q;&g;0&l;/span&g;]=n;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;int&l;/span&g; op,X,Y,inv=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 读取并执行语句&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(m--)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;built_in\&q;&g;scanf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%d&a;quot;&l;/span&g;,&a;amp;op);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op==&l;span class=\&q;number\&q;&g;4&l;/span&g;) &l;span class=\&q;comment\&q;&g;// 如果之前不需要执行过翻转, 则需要执行翻转. 反之则需要执行&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                inv=!inv;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;else&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;built_in\&q;&g;scanf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%d%d&a;quot;&l;/span&g;,&a;amp;X,&a;amp;Y);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op==&l;span class=\&q;number\&q;&g;3&l;/span&g; &a;amp;&a;amp; right[Y] == X )&a;#123; &l;span class=\&q;comment\&q;&g;// 需要交换x,y的位置, 并且y的右边就是x&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    swap(X,Y);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;comment\&q;&g;// 没有真正的翻转链表产生的副作用, 我们只是记录了是否需要翻转链表.&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;comment\&q;&g;// 因此, 假如需要翻转链表, 那么需要放在左边就变成了需要放在右边, 反之同理&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op!=&l;span class=\&q;number\&q;&g;3&l;/span&g; &a;amp;&a;amp; inv)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    op=&l;span class=\&q;number\&q;&g;3&l;/span&g;-op;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op==&l;span class=\&q;number\&q;&g;1&l;/span&g; &a;amp;&a;amp; X==left[Y]) &l;span class=\&q;keyword\&q;&g;continue&l;/span&g;; &l;span class=\&q;comment\&q;&g;//需要将x插入到y的左边, 但是x已经在y的左边&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op==&l;span class=\&q;number\&q;&g;2&l;/span&g; &a;amp;&a;amp; X==right[Y]) &l;span class=\&q;keyword\&q;&g;continue&l;/span&g;; &l;span class=\&q;comment\&q;&g;//需要将x插入到y的右边, 但是x已经在y的右边&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;comment\&q;&g;// 两个节点的左右位置信息&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;int&l;/span&g; LX=left[X], RX=right[X],LY=left[Y], RY=right[Y];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op==&l;span class=\&q;number\&q;&g;1&l;/span&g;)&a;#123; &l;span class=\&q;comment\&q;&g;// x 到 y 左边&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    link(LX, RX);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    link(LY,X);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    link(X,Y);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op==&l;span class=\&q;number\&q;&g;2&l;/span&g;)&a;#123; &l;span class=\&q;comment\&q;&g;// x 到 y 右边&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    link(LX, RX);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    link(Y,X);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    link(X,RY);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(op==&l;span class=\&q;number\&q;&g;3&l;/span&g;)&a;#123; &l;span class=\&q;comment\&q;&g;// x,y 互换&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(right[X]==Y)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                        link(LX, Y);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                        link(Y,X);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                        link(X,RY);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    &a;#125;&l;span class=\&q;keyword\&q;&g;else&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                        link(LX, Y);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                        link(Y, RX);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                        link(LY, X);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                        link(X, RY);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;int&l;/span&g; b=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ll ans=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 从左边向右边遍历&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i=&l;span class=\&q;number\&q;&g;1&l;/span&g;;i&a;lt;=n;i++)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            b=right[b];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(i%&l;span class=\&q;number\&q;&g;2&l;/span&g;==&l;span class=\&q;number\&q;&g;1&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                ans+=b;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;comment\&q;&g;// 如果需要翻转, 并且链表长度为偶数的话. ps奇数长度的话, 和是不会变的&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(inv &a;amp;&a;amp; n%&l;span class=\&q;number\&q;&g;2&l;/span&g;==&l;span class=\&q;number\&q;&g;0&l;/span&g;) ans=(ll)n*(n+&l;span class=\&q;number\&q;&g;1&l;/span&g;)/&l;span class=\&q;number\&q;&g;2&l;/span&g;-ans;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;built_in\&q;&g;printf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;Case %d: %lld\\n&a;quot;&l;/span&g;,++kase,ans);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;blockquote&g;\n&l;p&g;复习时看 &l;a href=\&q;https://blog.csdn.net/richenyunqi/article/details/86563744?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param&a;amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param\&q; target=\&q;_blank\&q; rel=\&q;external nofollow noopener\&q;&g;https://blog.csdn.net/richenyunqi/article/details/86563744?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param&a;amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param&l;/a&g;&l;/p&g;\n&l;/blockquote&g;\n&l;h1 id=\&q;*小球下落\&q;&g;*小球下落&l;a title=\&q;#*小球下落\&q; href=\&q;#*小球下落\&q;&g;&l;/a&g;&l;/h1&g;\n&l;blockquote&g;\n&l;p&g;&l;a href=\&q;https://www.luogu.com.cn/problem/UVA679\&q; target=\&q;_blank\&q; rel=\&q;external nofollow noopener\&q;&g;https://www.luogu.com.cn/problem/UVA679&l;/a&g;&l;/p&g;\n&l;/blockquote&g;\n&l;figure class=\&q;highlight c\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;cstdio&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;cstring&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;const&l;/span&g; &l;span class=\&q;keyword\&q;&g;int&l;/span&g; maxd=&l;span class=\&q;number\&q;&g;20&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; s[&l;span class=\&q;number\&q;&g;1&l;/span&g;&a;lt;&a;lt;maxd]; &l;span class=\&q;comment\&q;&g;// 2^(maxd)-1&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; D,I;&l;span class=\&q;comment\&q;&g;// 深度, 个数&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(&l;span class=\&q;built_in\&q;&g;scanf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%d%d&a;quot;&l;/span&g;,&a;amp;D,&a;amp;I)==&l;span class=\&q;number\&q;&g;2&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;built_in\&q;&g;memset&l;/span&g;(s, &l;span class=\&q;number\&q;&g;0&l;/span&g;, &l;span class=\&q;keyword\&q;&g;sizeof&l;/span&g;(s));&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;int&l;/span&g; k,n=(&l;span class=\&q;number\&q;&g;1&l;/span&g;&a;lt;&a;lt;D)&l;span class=\&q;number\&q;&g;-1&l;/span&g;; &l;span class=\&q;comment\&q;&g;// 最大节点编号为 2^(D-1)&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i=&l;span class=\&q;number\&q;&g;0&l;/span&g;;i&a;lt;I;i++)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            k=&l;span class=\&q;number\&q;&g;1&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(&l;span class=\&q;number\&q;&g;1&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                s[k]=!s[k]; &l;span class=\&q;comment\&q;&g;// 改变开关状态&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                k=s[k]?k*&l;span class=\&q;number\&q;&g;2&l;/span&g;:k*&l;span class=\&q;number\&q;&g;2&l;/span&g;+&l;span class=\&q;number\&q;&g;1&l;/span&g;; &l;span class=\&q;comment\&q;&g;// 走左边还是右边&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(k&a;gt;n) &l;span class=\&q;keyword\&q;&g;break&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;built_in\&q;&g;printf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%d&a;quot;&l;/span&g;,k/&l;span class=\&q;number\&q;&g;2&l;/span&g;); &l;span class=\&q;comment\&q;&g;// 最后出界的节点编号&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;对于一个节点, 使用变量 x 记录滚该位置的小球个数, 小球第 奇数 次滚过该位置时则朝左儿子滚, 小球第 偶数 次滚过时, 则朝右儿子滚.&l;br&g;\n使用变量 ans 记录当前位置.&l;/p&g;\n&l;ul&g;\n&l;li&g;朝左儿子滚的话 ans=2*ans&l;/li&g;\n&l;li&g;朝右儿子滚的话 ans=2*ans+1&l;/li&g;\n&l;/ul&g;\n&l;p&g;当前小球 i 是第几个经过该节点的: (i+1)/2&l;/p&g;\n&l;figure class=\&q;highlight cpp\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; &l;span class=\&q;built_in\&q;&g;std&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; d,i;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(&l;span class=\&q;built_in\&q;&g;scanf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%d%d&a;quot;&l;/span&g;,&a;amp;d,&a;amp;i)==&l;span class=\&q;number\&q;&g;2&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;int&l;/span&g; j=&l;span class=\&q;number\&q;&g;1&l;/span&g;,k=&l;span class=\&q;number\&q;&g;1&l;/span&g;; &l;span class=\&q;comment\&q;&g;// j 是当前小球所在节点&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; k=&l;span class=\&q;number\&q;&g;1&l;/span&g;;k&a;lt;d;k++)&a;#123;  &l;span class=\&q;comment\&q;&g;//滚动次数&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(i%&l;span class=\&q;number\&q;&g;2&l;/span&g;==&l;span class=\&q;number\&q;&g;0&l;/span&g;) &l;span class=\&q;comment\&q;&g;//如果是偶数点(true)&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                j=j*&l;span class=\&q;number\&q;&g;2&l;/span&g;+&l;span class=\&q;number\&q;&g;1&l;/span&g;; &l;span class=\&q;comment\&q;&g;//j标记向右&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;else&l;/span&g; &l;span class=\&q;comment\&q;&g;//如果是奇数点(false)&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                j*=&l;span class=\&q;number\&q;&g;2&l;/span&g;;  &l;span class=\&q;comment\&q;&g;//j标记向左&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            i=(i+&l;span class=\&q;number\&q;&g;1&l;/span&g;)/&l;span class=\&q;number\&q;&g;2&l;/span&g;; &l;span class=\&q;comment\&q;&g;//实际下落&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;built_in\&q;&g;printf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%d&a;quot;&l;/span&g;,j);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;树与二叉树\&q;&g;树与二叉树&l;a title=\&q;#树与二叉树\&q; href=\&q;#树与二叉树\&q;&g;&l;/a&g;&l;/h1&g;\n&l;p&g;指针实现&l;/p&g;\n&l;figure class=\&q;highlight cpp\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;69&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;70&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;cstring&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;vector&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;queue&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; &l;span class=\&q;built_in\&q;&g;std&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;typedef&l;/span&g; &l;span class=\&q;class\&q;&g;&l;span class=\&q;keyword\&q;&g;struct&l;/span&g; &l;span class=\&q;title\&q;&g;Node&l;/span&g;&a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;bool&l;/span&g; hava_value;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; v;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Node * left,*right;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Node():left(&l;span class=\&q;literal\&q;&g;NULL&l;/span&g;),right(&l;span class=\&q;literal\&q;&g;NULL&l;/span&g;),hava_value(&l;span class=\&q;literal\&q;&g;false&l;/span&g;)&a;#123;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;Node;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;Node* &l;span class=\&q;title\&q;&g;newNode&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Node();&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;const&l;/span&g; &l;span class=\&q;keyword\&q;&g;int&l;/span&g; maxn=&l;span class=\&q;number\&q;&g;10e5&l;/span&g;+&l;span class=\&q;number\&q;&g;5&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;char&l;/span&g; s[maxn];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Node* root;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;bool&l;/span&g; failed;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;addNode&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; v,&l;span class=\&q;keyword\&q;&g;char&l;/span&g; s[])&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; n=&l;span class=\&q;built_in\&q;&g;strlen&l;/span&g;(s);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Node* u=root;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;for&l;/span&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; i=&l;span class=\&q;number\&q;&g;0&l;/span&g;;i!=n;i++)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;char&l;/span&g; ch=s[i];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(ch==&l;span class=\&q;string\&q;&g;&a;#x27;L&a;#x27;&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(u-&a;gt;left=&l;span class=\&q;literal\&q;&g;NULL&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                u-&a;gt;right=newNode();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            u=u-&a;gt;left;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;span class=\&q;keyword\&q;&g;else&l;/span&g; &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(ch==&l;span class=\&q;string\&q;&g;&a;#x27;R&a;#x27;&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(u-&a;gt;left=&l;span class=\&q;literal\&q;&g;NULL&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;                u-&a;gt;right=newNode();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            u=u-&a;gt;right;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(u-&a;gt;hava_value) failed=&l;span class=\&q;literal\&q;&g;true&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        u-&a;gt;v=v;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        u-&a;gt;hava_value=&l;span class=\&q;literal\&q;&g;true&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;remove_tree&l;/span&g;&l;span class=\&q;params\&q;&g;(Node* u)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(u==&l;span class=\&q;literal\&q;&g;NULL&l;/span&g; )&l;span class=\&q;keyword\&q;&g;return&l;/span&g; ;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(!u-&a;gt;left)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        remove_tree(u-&a;gt;left);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(!u-&a;gt;right)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        remove_tree(u-&a;gt;right);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;delete&l;/span&g; u;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;bool&l;/span&g; &l;span class=\&q;title\&q;&g;read_input&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    failed=&l;span class=\&q;literal\&q;&g;false&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    root=newNode();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(&l;span class=\&q;number\&q;&g;1&l;/span&g;)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(&l;span class=\&q;built_in\&q;&g;scanf&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;%s&a;quot;&l;/span&g;,s)!=&l;span class=\&q;number\&q;&g;1&l;/span&g;) &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;literal\&q;&g;false&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(&l;span class=\&q;built_in\&q;&g;strcmp&l;/span&g;(s,&l;span class=\&q;string\&q;&g;&a;quot;()&a;quot;&l;/span&g;)) &l;span class=\&q;keyword\&q;&g;break&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;int&l;/span&g; v;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;built_in\&q;&g;sscanf&l;/span&g;(&a;amp;s[&l;span class=\&q;number\&q;&g;1&l;/span&g;], &l;span class=\&q;string\&q;&g;&a;quot;%d&a;quot;&l;/span&g;,&a;amp;v);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        addNode(v,&l;span class=\&q;built_in\&q;&g;strchr&l;/span&g;(s,&l;span class=\&q;string\&q;&g;&a;#x27;,&a;#x27;&l;/span&g;)+&l;span class=\&q;number\&q;&g;1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;literal\&q;&g;true&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;bool&l;/span&g; &l;span class=\&q;title\&q;&g;bfs&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;built_in\&q;&g;vector&l;/span&g;&a;lt;&l;span class=\&q;keyword\&q;&g;int&l;/span&g;&a;gt;&a;amp; ans)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;queue&l;/span&g;&a;lt;Node*&a;gt; q;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    ans.clear();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    q.push(root);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(!q.empty())&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        Node* u=q.front();q.pop();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(!u-&a;gt;hava_value) failed=&l;span class=\&q;literal\&q;&g;true&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ans.push_back(u-&a;gt;v);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(!u-&a;gt;left) q.push(u-&a;gt;left);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(!u-&a;gt;right) q.push(u-&a;gt;right);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;literal\&q;&g;true&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;数组实现&l;/p&g;\n&l;figure class=\&q;highlight c\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;const&l;/span&g; &l;span class=\&q;keyword\&q;&g;int&l;/span&g; root=&l;span class=\&q;number\&q;&g;1&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;const&l;/span&g; &l;span class=\&q;keyword\&q;&g;int&l;/span&g; maxn=&l;span class=\&q;number\&q;&g;10e5&l;/span&g;+&l;span class=\&q;number\&q;&g;5&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; left[maxn],right[maxn],have_value[maxn];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; cnt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;newTree&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    left[root]=right[root]=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    have_value[root]=&l;span class=\&q;literal\&q;&g;false&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cnt=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;newNode&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; u=++cnt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    left[u]=right[u]=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    have_value[root]=&l;span class=\&q;literal\&q;&g;false&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; u;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;树\&q;&g;树&l;a title=\&q;#树\&q; href=\&q;#树\&q;&g;&l;/a&g;&l;/h1&g;\n&l;blockquote&g;\n&l;p&g;&l;a href=\&q;https://www.luogu.com.cn/problem/UVA548\&q; target=\&q;_blank\&q; rel=\&q;external nofollow noopener\&q;&g;https://www.luogu.com.cn/problem/UVA548&l;/a&g;&l;/p&g;\n&l;/blockquote&g;\n&l;p&g;做的想吐, 慢慢来慢慢来&l;/p&g;\n&l;figure class=\&q;highlight cpp\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;cstring&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;sstream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;vector&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;queue&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;algorithm&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g;  &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; &l;span class=\&q;built_in\&q;&g;std&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 直接使用权值作为节点编号&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;const&l;/span&g; &l;span class=\&q;keyword\&q;&g;int&l;/span&g; maxv=&l;span class=\&q;number\&q;&g;10e4&l;/span&g;+&l;span class=\&q;number\&q;&g;10&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; in_order[maxv],post_order[maxv],lch[maxv],rch[maxv];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; n;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;bool&l;/span&g; &l;span class=\&q;title\&q;&g;read_list&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g;* a)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;string&l;/span&g; line;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(!getline(&l;span class=\&q;built_in\&q;&g;cin&l;/span&g;,line))&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;literal\&q;&g;false&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;built_in\&q;&g;stringstream&l;/span&g; &l;span class=\&q;title\&q;&g;ss&l;/span&g;&l;span class=\&q;params\&q;&g;(line)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    n=&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; x;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;// 向数组里面吐数据. n 是吐出来数字个数&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(ss&a;gt;&a;gt;x)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        a[n++]=x;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; n&a;gt;&l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;build&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; L1,&l;span class=\&q;keyword\&q;&g;int&l;/span&g; R1,&l;span class=\&q;keyword\&q;&g;int&l;/span&g; L2,&l;span class=\&q;keyword\&q;&g;int&l;/span&g; R2)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(L1&a;gt;R1)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;// 根节点是后序遍历的最后一个节点&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; root=post_order[R2];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;// 找到根节点在中序遍历中的位置&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; p=L1;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(in_order[p]!=root)p++;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; cnt=p-L1; &l;span class=\&q;comment\&q;&g;// 左子树节点数量&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;comment\&q;&g;// 注意这种划分方式, 要考&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    lch[root]=build(L1,p&l;span class=\&q;number\&q;&g;-1&l;/span&g;,L2,L2+cnt&l;span class=\&q;number\&q;&g;-1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    rch[root]=build(p+&l;span class=\&q;number\&q;&g;1&l;/span&g;,R1,L2+cnt,R2&l;span class=\&q;number\&q;&g;-1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; root;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; best,best_sum;&l;span class=\&q;comment\&q;&g;// 到目前的最优解和对应的权值的和&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;dfs&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g; u,&l;span class=\&q;keyword\&q;&g;int&l;/span&g; sum)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    sum+=u;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(!lch[u]&a;amp;&a;amp;!rch[u])&a;#123;&l;span class=\&q;comment\&q;&g;// 叶子&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(sum&a;lt;best_sum||(sum==best_sum&a;amp;&a;amp;u&a;lt;best))&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            best=u;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            best_sum=sum;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(lch[u]) dfs(lch[u],sum);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(rch[u]) dfs(rch[u],sum);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(read_list(in_order)&a;amp;&a;amp;read_list(post_order))&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        build(&l;span class=\&q;number\&q;&g;0&l;/span&g;, n&l;span class=\&q;number\&q;&g;-1&l;/span&g;, &l;span class=\&q;number\&q;&g;0&l;/span&g;, n&l;span class=\&q;number\&q;&g;-1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        best_sum=&l;span class=\&q;number\&q;&g;1000000000&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        dfs(post_order[n&l;span class=\&q;number\&q;&g;-1&l;/span&g;],&l;span class=\&q;number\&q;&g;0&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;built_in\&q;&g;cout&l;/span&g;&a;lt;&a;lt;best&a;lt;&a;lt;&l;span class=\&q;built_in\&q;&g;endl&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;*天平\&q;&g;*天平&l;a title=\&q;#*天平\&q; href=\&q;#*天平\&q;&g;&l;/a&g;&l;/h1&g;\n&l;blockquote&g;\n&l;p&g;&l;a href=\&q;https://www.luogu.com.cn/problem/UVA839\&q; target=\&q;_blank\&q; rel=\&q;external nofollow noopener\&q;&g;https://www.luogu.com.cn/problem/UVA839&l;/a&g;&l;/p&g;\n&l;/blockquote&g;\n&l;p&g;令人绝望的递归&l;/p&g;\n&l;figure class=\&q;highlight c\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;cstdio&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g;&l;span class=\&q;meta-string\&q;&g;&a;lt;cstring&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;meta-keyword\&q;&g;include&l;/span&g; &l;span class=\&q;meta-string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g;  &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; &l;span class=\&q;built_in\&q;&g;std&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;bool&l;/span&g; &l;span class=\&q;title\&q;&g;solve&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;keyword\&q;&g;int&l;/span&g;&a;amp; w)&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; w1,d1,w2,d2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;bool&l;/span&g; b1=&l;span class=\&q;literal\&q;&g;true&l;/span&g;, b2=&l;span class=\&q;literal\&q;&g;true&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;cin&l;/span&g;&a;gt;&a;gt;w1&a;gt;&a;gt;d1&a;gt;&a;gt;w2&a;gt;&a;gt;d2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(w1==&l;span class=\&q;number\&q;&g;0&l;/span&g;) b1=solve(w1); &l;span class=\&q;comment\&q;&g;// 左子树&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(w2==&l;span class=\&q;number\&q;&g;0&l;/span&g;) b2=solve(w2); &l;span class=\&q;comment\&q;&g;// 右子树&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    w=w1+w2; &l;span class=\&q;comment\&q;&g;// 回溯, 记录总重量&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; b1&a;amp;&a;amp;b2&a;amp;&a;amp;(w1*d1==w2*d2); &l;span class=\&q;comment\&q;&g;// 左右以及它本身&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;int&l;/span&g; t,w;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;cin&l;/span&g;&a;gt;&a;gt;t;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;while&l;/span&g;(t--)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(solve(w))&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;built_in\&q;&g;cout&l;/span&g;&a;lt;&a;lt;&l;span class=\&q;string\&q;&g;&a;quot;YES\\n&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;else&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;built_in\&q;&g;cout&l;/span&g;&a;lt;&a;lt;&l;span class=\&q;string\&q;&g;&a;quot;NO\\n&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        &l;span class=\&q;keyword\&q;&g;if&l;/span&g;(t)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;            &l;span class=\&q;built_in\&q;&g;cout&l;/span&g;&a;lt;&a;lt;&l;span class=\&q;built_in\&q;&g;endl&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h1 id=\&q;下落的树叶\&q;&g;下落的树叶&l;a title=\&q;#下落的树叶\&q; href=\&q;#下落的树叶\&q;&g;&l;/a&g;&l;/h1&g;\n&l;blockquote&g;\n&l;p&g;&l;a href=\&q;https://www.luogu.com.cn/problem/UVA699\&q; target=\&q;_blank\&q; rel=\&q;external nofollow noopener\&q;&g;https://www.luogu.com.cn/problem/UVA699&l;/a&g;&l;/p&g;\n&l;/blockquote&g;\n&l;p&g;汇总到最左边和最右边的边节点上, 输出边界点&l;br&g;\n不会&l;/p&g;\n&q;,&q;prev&q;:{&q;title&q;:&q;想学算法&q;,&q;link&q;:&q;mce5h4&q;},&q;next&q;:{&q;title&q;:&q;JDBC与mysql数据库交互&q;,&q;link&q;:&q;hy5u9w&q;},&q;plink&q;:&q;https://mvbbb.github.io/lsrgfy/&q;,&q;toc&q;:[{&q;id&q;:&q;破损的键盘&q;,&q;title&q;:&q;破损的键盘&q;,&q;index&q;:&q;1&q;},{&q;id&q;:&q;移动盒子&q;,&q;title&q;:&q;移动盒子&q;,&q;index&q;:&q;2&q;},{&q;id&q;:&q;*小球下落&q;,&q;title&q;:&q;*小球下落&q;,&q;index&q;:&q;3&q;},{&q;id&q;:&q;树与二叉树&q;,&q;title&q;:&q;树与二叉树&q;,&q;index&q;:&q;4&q;},{&q;id&q;:&q;树&q;,&q;title&q;:&q;树&q;,&q;index&q;:&q;5&q;},{&q;id&q;:&q;*天平&q;,&q;title&q;:&q;*天平&q;,&q;index&q;:&q;6&q;},{&q;id&q;:&q;下落的树叶&q;,&q;title&q;:&q;下落的树叶&q;,&q;index&q;:&q;7&q;}],&q;copyright&q;:{&q;author&q;:&q;Mvbbb&q;,&q;link&q;:&q;&l;a href=\&q;https://mvbbb.github.io/lsrgfy/\&q; title=\&q;算法竞赛入门经典\&q;&g;https://mvbbb.github.io/lsrgfy/&l;/a&g;&q;,&q;license&q;:&q;Attribution-NonCommercial-NoDerivatives 4.0 International (&l;a href=\&q;https://creativecommons.org/licenses/by-nc-sa/4.0/\&q; rel=\&q;external nofollow noopener\&q; target=\&q;_blank\&q;&g;CC BY-NC-ND 4.0&l;/a&g;)&q;}}}</script></head><body lang="en"><div style="display:none"><script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1279526637&amp;web_id=1279526637"></script></div>
<!-- hexo injector head_end start --><link href="//fonts.googleapis.com/css?family=Baloo+Bhaijaan|Inconsolata|Josefin+Sans|Montserrat" rel="stylesheet"><link href="/styles.43478ea7e28ed563c48b.css" rel="stylesheet">
<script src="/config.f667b9e14173c512056d.js"></script>

<link rel="stylesheet" href="/theme.6191587147d30da44d8f.css" is="theme">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0">
<!-- hexo injector body_begin start --><is-a class="φbm φk" ng-version="10.0.11"><is-l class="φeb φh"><div class="φel"><section class="φem"><header class="φec φf"><!----><is-c class="φed"><img draggable="false" class="φbw φw" src="images/avatar.jpg" alt="" title="" width="160" height="160"></is-c><!----><a href="" class="φef φa φu">Mvbbb</a><p class="φee">Who i am,who u are</p></header><div class="φeq φf"><a routerlink="/archives" class="φer φu" href="/archives"><span class="φd">45</span><span>Archives</span></a><a class="φer φu" href="/categories/Java"><span class="φd">14</span><span>Categories</span></a><!----><a routerlink="/tags" class="φer φu" href="/tags"><span class="φd">34</span><span>Tags</span></a><!----></div><!----><nav class="φen"><a class="φeo φbd φj φc φu φo" href="/">Home</a><!----><!----><!----><a class="φeo φbd φj φc φu φo" href="/about">About</a><!----><!----><!----><a class="φeo φbd φj φc φu φo" href="/search">Search</a><!----><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φeo φbd φj φc φu φo" href="https://www.yuque.com/u1296515/zb4bwb">Yuque</a><!----><!----><!----></nav><!----><!----></section><footer class="φeg φeh"><div class="φej"><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-email" href="mailto:3212618781@qq.com">email</a><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-feed" href="https://mvbbb.github.io/rss2.xml">feed</a><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-github" href="https://github.com/Mvbbb">github</a><a target="_blank" rel="external nofollow noopener" class="φek φbg φu icon-myspace" href="/links">myspace</a><!----></div><!----><p class="φbk φz">© 2019-2021 ❤ <a href="https://github.com/Mvbbb">Mvbbb</a></p><!----><!----><!----></footer></div></is-l><div class="φbo"><div class="φbn"><div class="φbs φbe"><main class="φbr φbf"><router-outlet></router-outlet><is-s class="φfx φf"><header class="φgh φgi" style="background-image:;background-color:;"><div class="φgq"><h1 class="φgt">算法竞赛入门经典</h1><!----><p class="φgj φr"><span class="φgk φgo">Oct 1, 2020</span><a class="φgk φgm φu" href="/categories/%E5%A4%87%E6%88%98%E8%93%9D%E6%A1%A5%E6%9D%AF">备战蓝桥杯</a><!----><!----><!----></p><!----><!----></div></header><article itemscope="" itemtype="http://schema.org/Article" class="φga" data-title="算法竞赛入门经典"><div itemprop="articleBody" issnippet="" iszoomable="" class="φbk φh φz"><p>冲冲冲!!</p>
<a id="more"></a>
<h1 id="破损的键盘">破损的键盘<a title="#破损的键盘" href="#破损的键盘"></a></h1>
<blockquote>
<p>UVA 11988</p>
</blockquote>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10e5</span> +<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> last,cur,next[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="comment">// 每次处理一行文本</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>)==<span class="number">1</span>){</span><br><span class="line">        <span class="keyword">int</span> n=<span class="built_in">strlen</span>(s+<span class="number">1</span>); <span class="comment">//字符串长度</span></span><br><span class="line">        cur=last=<span class="number">0</span>; <span class="comment">// 空链表, 只有头结点</span></span><br><span class="line">        next[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 遍历每一个字符</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++){</span><br><span class="line">            <span class="keyword">char</span> ch=s[i];</span><br><span class="line">            <span class="keyword">if</span>(ch==<span class="string">'['</span>) <span class="comment">// home</span></span><br><span class="line">                cur=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">']'</span>) <span class="comment">// end</span></span><br><span class="line">                cur=last;</span><br><span class="line">            <span class="keyword">else</span>{</span><br><span class="line">                next[i]=next[cur];</span><br><span class="line">                next[cur]=i;  <span class="comment">// 把当前节点 (位置为i) 接到链表中</span></span><br><span class="line">                <span class="keyword">if</span>(cur==last) <span class="comment">// 更新最后一个字符的编号</span></span><br><span class="line">                    last=i;</span><br><span class="line">                cur=i; <span class="comment">// 移动光标</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=next[<span class="number">0</span>];i!=<span class="number">0</span>;i=next[i]){</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,s[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// this_is_a_[beiju]_text</span></span><br><span class="line"><span class="comment">// 使用 cur 记录当前节点的位置, 方便下个节点的连接</span></span><br><span class="line"><span class="comment">// 使用 last 记录最后一个节点的位置</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="移动盒子">移动盒子<a title="#移动盒子" href="#移动盒子"></a></h1>
<blockquote>
<p>UVA 12657</p>
</blockquote>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;    // std::swap</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10e5</span>+<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> left[maxn],right[maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 连接两个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">link</span><span class="params">(<span class="keyword">int</span> l ,<span class="keyword">int</span> r)</span></span>{</span><br><span class="line">    right[l]=r;</span><br><span class="line">    left[r]=l;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">int</span> n,m,kase=<span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m)==<span class="number">2</span>){</span><br><span class="line"></span><br><span class="line">        <span class="comment">//初始化一个双向链表</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++){</span><br><span class="line">            left[i]=i<span class="number">-1</span>;</span><br><span class="line">            right[i]=(i+<span class="number">1</span>)%(n+<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        right[<span class="number">0</span>]=<span class="number">1</span>;left[<span class="number">0</span>]=n;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> op,X,Y,inv=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 读取并执行语句</span></span><br><span class="line">        <span class="keyword">while</span>(m--){</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;op);</span><br><span class="line">            <span class="keyword">if</span>(op==<span class="number">4</span>) <span class="comment">// 如果之前不需要执行过翻转, 则需要执行翻转. 反之则需要执行</span></span><br><span class="line">                inv=!inv;</span><br><span class="line">            <span class="keyword">else</span>{</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;X,&amp;Y);</span><br><span class="line">                <span class="keyword">if</span>(op==<span class="number">3</span> &amp;&amp; right[Y] == X ){ <span class="comment">// 需要交换x,y的位置, 并且y的右边就是x</span></span><br><span class="line">                    swap(X,Y);</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">// 没有真正的翻转链表产生的副作用, 我们只是记录了是否需要翻转链表.</span></span><br><span class="line">                <span class="comment">// 因此, 假如需要翻转链表, 那么需要放在左边就变成了需要放在右边, 反之同理</span></span><br><span class="line">                <span class="keyword">if</span>(op!=<span class="number">3</span> &amp;&amp; inv){</span><br><span class="line">                    op=<span class="number">3</span>-op;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span>(op==<span class="number">1</span> &amp;&amp; X==left[Y]) <span class="keyword">continue</span>; <span class="comment">//需要将x插入到y的左边, 但是x已经在y的左边</span></span><br><span class="line">                <span class="keyword">if</span>(op==<span class="number">2</span> &amp;&amp; X==right[Y]) <span class="keyword">continue</span>; <span class="comment">//需要将x插入到y的右边, 但是x已经在y的右边</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">// 两个节点的左右位置信息</span></span><br><span class="line">                <span class="keyword">int</span> LX=left[X], RX=right[X],LY=left[Y], RY=right[Y];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(op==<span class="number">1</span>){ <span class="comment">// x 到 y 左边</span></span><br><span class="line">                    link(LX, RX);</span><br><span class="line">                    link(LY,X);</span><br><span class="line">                    link(X,Y);</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span>(op==<span class="number">2</span>){ <span class="comment">// x 到 y 右边</span></span><br><span class="line">                    link(LX, RX);</span><br><span class="line">                    link(Y,X);</span><br><span class="line">                    link(X,RY);</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span>(op==<span class="number">3</span>){ <span class="comment">// x,y 互换</span></span><br><span class="line">                    <span class="keyword">if</span>(right[X]==Y){</span><br><span class="line">                        link(LX, Y);</span><br><span class="line">                        link(Y,X);</span><br><span class="line">                        link(X,RY);</span><br><span class="line">                    }<span class="keyword">else</span>{</span><br><span class="line">                        link(LX, Y);</span><br><span class="line">                        link(Y, RX);</span><br><span class="line">                        link(LY, X);</span><br><span class="line">                        link(X, RY);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> b=<span class="number">0</span>;</span><br><span class="line">        ll ans=<span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 从左边向右边遍历</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++){</span><br><span class="line">            b=right[b];</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">1</span>)</span><br><span class="line">                ans+=b;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 如果需要翻转, 并且链表长度为偶数的话. ps奇数长度的话, 和是不会变的</span></span><br><span class="line">        <span class="keyword">if</span>(inv &amp;&amp; n%<span class="number">2</span>==<span class="number">0</span>) ans=(ll)n*(n+<span class="number">1</span>)/<span class="number">2</span>-ans;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %lld\n"</span>,++kase,ans);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>复习时看 <a href="https://blog.csdn.net/richenyunqi/article/details/86563744?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param" target="_blank" rel="external nofollow noopener">https://blog.csdn.net/richenyunqi/article/details/86563744?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.channel_param</a></p>
</blockquote>
<h1 id="*小球下落">*小球下落<a title="#*小球下落" href="#*小球下落"></a></h1>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/UVA679" target="_blank" rel="external nofollow noopener">https://www.luogu.com.cn/problem/UVA679</a></p>
</blockquote>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxd=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> s[<span class="number">1</span>&lt;&lt;maxd]; <span class="comment">// 2^(maxd)-1</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">int</span> D,I;<span class="comment">// 深度, 个数</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;D,&amp;I)==<span class="number">2</span>){</span><br><span class="line">        <span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="keyword">sizeof</span>(s));</span><br><span class="line">        <span class="keyword">int</span> k,n=(<span class="number">1</span>&lt;&lt;D)<span class="number">-1</span>; <span class="comment">// 最大节点编号为 2^(D-1)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;I;i++){</span><br><span class="line">            k=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">                s[k]=!s[k]; <span class="comment">// 改变开关状态</span></span><br><span class="line">                k=s[k]?k*<span class="number">2</span>:k*<span class="number">2</span>+<span class="number">1</span>; <span class="comment">// 走左边还是右边</span></span><br><span class="line">                <span class="keyword">if</span>(k&gt;n) <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,k/<span class="number">2</span>); <span class="comment">// 最后出界的节点编号</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>对于一个节点, 使用变量 x 记录滚该位置的小球个数, 小球第 奇数 次滚过该位置时则朝左儿子滚, 小球第 偶数 次滚过时, 则朝右儿子滚.<br>
使用变量 ans 记录当前位置.</p>
<ul>
<li>朝左儿子滚的话 ans=2*ans</li>
<li>朝右儿子滚的话 ans=2*ans+1</li>
</ul>
<p>当前小球 i 是第几个经过该节点的: (i+1)/2</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">int</span> d,i;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;d,&amp;i)==<span class="number">2</span>){</span><br><span class="line">        <span class="keyword">int</span> j=<span class="number">1</span>,k=<span class="number">1</span>; <span class="comment">// j 是当前小球所在节点</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;d;k++){  <span class="comment">//滚动次数</span></span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>) <span class="comment">//如果是偶数点(true)</span></span><br><span class="line">                j=j*<span class="number">2</span>+<span class="number">1</span>; <span class="comment">//j标记向右</span></span><br><span class="line">            <span class="keyword">else</span> <span class="comment">//如果是奇数点(false)</span></span><br><span class="line">                j*=<span class="number">2</span>;  <span class="comment">//j标记向左</span></span><br><span class="line">            i=(i+<span class="number">1</span>)/<span class="number">2</span>; <span class="comment">//实际下落</span></span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,j);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="树与二叉树">树与二叉树<a title="#树与二叉树" href="#树与二叉树"></a></h1>
<p>指针实现</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>{</span></span><br><span class="line">    <span class="keyword">bool</span> hava_value;</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    Node * left,*right;</span><br><span class="line">    Node():left(<span class="literal">NULL</span>),right(<span class="literal">NULL</span>),hava_value(<span class="literal">false</span>){};</span><br><span class="line">}Node;</span><br><span class="line"><span class="function">Node* <span class="title">newNode</span><span class="params">()</span></span>{<span class="keyword">return</span> <span class="keyword">new</span> Node();}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line">Node* root;</span><br><span class="line"><span class="keyword">bool</span> failed;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addNode</span><span class="params">(<span class="keyword">int</span> v,<span class="keyword">char</span> s[])</span></span>{</span><br><span class="line">    <span class="keyword">int</span> n=<span class="built_in">strlen</span>(s);</span><br><span class="line">    Node* u=root;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=n;i++){</span><br><span class="line">        <span class="keyword">char</span> ch=s[i];</span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">'L'</span>){</span><br><span class="line">            <span class="keyword">if</span>(u-&gt;left=<span class="literal">NULL</span>)</span><br><span class="line">                u-&gt;right=newNode();</span><br><span class="line">            u=u-&gt;left;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">'R'</span>){</span><br><span class="line">            <span class="keyword">if</span>(u-&gt;left=<span class="literal">NULL</span>)</span><br><span class="line">                u-&gt;right=newNode();</span><br><span class="line">            u=u-&gt;right;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(u-&gt;hava_value) failed=<span class="literal">true</span>;</span><br><span class="line">        u-&gt;v=v;</span><br><span class="line">        u-&gt;hava_value=<span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">remove_tree</span><span class="params">(Node* u)</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(u==<span class="literal">NULL</span> )<span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(!u-&gt;left)</span><br><span class="line">        remove_tree(u-&gt;left);</span><br><span class="line">    <span class="keyword">if</span>(!u-&gt;right)</span><br><span class="line">        remove_tree(u-&gt;right);</span><br><span class="line">    <span class="keyword">delete</span> u;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">read_input</span><span class="params">()</span></span>{</span><br><span class="line">    failed=<span class="literal">false</span>;</span><br><span class="line">    root=newNode();</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s)!=<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(s,<span class="string">"()"</span>)) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="built_in">sscanf</span>(&amp;s[<span class="number">1</span>], <span class="string">"%d"</span>,&amp;v);</span><br><span class="line">        addNode(v,<span class="built_in">strchr</span>(s,<span class="string">','</span>)+<span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; ans)</span></span>{</span><br><span class="line">    <span class="built_in">queue</span>&lt;Node*&gt; q;</span><br><span class="line">    ans.clear();</span><br><span class="line">    q.push(root);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty()){</span><br><span class="line">        Node* u=q.front();q.pop();</span><br><span class="line">        <span class="keyword">if</span>(!u-&gt;hava_value) failed=<span class="literal">true</span>;</span><br><span class="line">        ans.push_back(u-&gt;v);</span><br><span class="line">        <span class="keyword">if</span>(!u-&gt;left) q.push(u-&gt;left);</span><br><span class="line">        <span class="keyword">if</span>(!u-&gt;right) q.push(u-&gt;right);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>数组实现</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> root=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> left[maxn],right[maxn],have_value[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newTree</span><span class="params">()</span></span>{</span><br><span class="line">    left[root]=right[root]=<span class="number">0</span>;</span><br><span class="line">    have_value[root]=<span class="literal">false</span>;</span><br><span class="line">    cnt=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">newNode</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">int</span> u=++cnt;</span><br><span class="line">    left[u]=right[u]=<span class="number">0</span>;</span><br><span class="line">    have_value[root]=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> u;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="树">树<a title="#树" href="#树"></a></h1>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/UVA548" target="_blank" rel="external nofollow noopener">https://www.luogu.com.cn/problem/UVA548</a></p>
</blockquote>
<p>做的想吐, 慢慢来慢慢来</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接使用权值作为节点编号</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxv=<span class="number">10e4</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> in_order[maxv],post_order[maxv],lch[maxv],rch[maxv];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">read_list</span><span class="params">(<span class="keyword">int</span>* a)</span></span>{</span><br><span class="line">    <span class="built_in">string</span> line;</span><br><span class="line">    <span class="keyword">if</span>(!getline(<span class="built_in">cin</span>,line))<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(line)</span></span>;</span><br><span class="line">    n=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="comment">// 向数组里面吐数据. n 是吐出来数字个数</span></span><br><span class="line">    <span class="keyword">while</span>(ss&gt;&gt;x){</span><br><span class="line">        a[n++]=x;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> n&gt;<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> L1,<span class="keyword">int</span> R1,<span class="keyword">int</span> L2,<span class="keyword">int</span> R2)</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(L1&gt;R1)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 根节点是后序遍历的最后一个节点</span></span><br><span class="line">    <span class="keyword">int</span> root=post_order[R2];</span><br><span class="line">    <span class="comment">// 找到根节点在中序遍历中的位置</span></span><br><span class="line">    <span class="keyword">int</span> p=L1;</span><br><span class="line">    <span class="keyword">while</span>(in_order[p]!=root)p++;</span><br><span class="line">    <span class="keyword">int</span> cnt=p-L1; <span class="comment">// 左子树节点数量</span></span><br><span class="line">    <span class="comment">// 注意这种划分方式, 要考</span></span><br><span class="line">    lch[root]=build(L1,p<span class="number">-1</span>,L2,L2+cnt<span class="number">-1</span>);</span><br><span class="line">    rch[root]=build(p+<span class="number">1</span>,R1,L2+cnt,R2<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> best,best_sum;<span class="comment">// 到目前的最优解和对应的权值的和</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> sum)</span></span>{</span><br><span class="line">    sum+=u;</span><br><span class="line">    <span class="keyword">if</span>(!lch[u]&amp;&amp;!rch[u]){<span class="comment">// 叶子</span></span><br><span class="line">        <span class="keyword">if</span>(sum&lt;best_sum||(sum==best_sum&amp;&amp;u&lt;best)){</span><br><span class="line">            best=u;</span><br><span class="line">            best_sum=sum;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span>(lch[u]) dfs(lch[u],sum);</span><br><span class="line">    <span class="keyword">if</span>(rch[u]) dfs(rch[u],sum);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">while</span>(read_list(in_order)&amp;&amp;read_list(post_order)){</span><br><span class="line"></span><br><span class="line">        build(<span class="number">0</span>, n<span class="number">-1</span>, <span class="number">0</span>, n<span class="number">-1</span>);</span><br><span class="line">        best_sum=<span class="number">1000000000</span>;</span><br><span class="line">        dfs(post_order[n<span class="number">-1</span>],<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;best&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="*天平">*天平<a title="#*天平" href="#*天平"></a></h1>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/UVA839" target="_blank" rel="external nofollow noopener">https://www.luogu.com.cn/problem/UVA839</a></p>
</blockquote>
<p>令人绝望的递归</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span>&amp; w)</span></span>{</span><br><span class="line">    <span class="keyword">int</span> w1,d1,w2,d2;</span><br><span class="line">    <span class="keyword">bool</span> b1=<span class="literal">true</span>, b2=<span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;w1&gt;&gt;d1&gt;&gt;w2&gt;&gt;d2;</span><br><span class="line">    <span class="keyword">if</span>(w1==<span class="number">0</span>) b1=solve(w1); <span class="comment">// 左子树</span></span><br><span class="line">    <span class="keyword">if</span>(w2==<span class="number">0</span>) b2=solve(w2); <span class="comment">// 右子树</span></span><br><span class="line">    w=w1+w2; <span class="comment">// 回溯, 记录总重量</span></span><br><span class="line">    <span class="keyword">return</span> b1&amp;&amp;b2&amp;&amp;(w1*d1==w2*d2); <span class="comment">// 左右以及它本身</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">int</span> t,w;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--){</span><br><span class="line">        <span class="keyword">if</span>(solve(w))</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES\n"</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO\n"</span>;</span><br><span class="line">        <span class="keyword">if</span>(t)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="下落的树叶">下落的树叶<a title="#下落的树叶" href="#下落的树叶"></a></h1>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/UVA699" target="_blank" rel="external nofollow noopener">https://www.luogu.com.cn/problem/UVA699</a></p>
</blockquote>
<p>汇总到最左边和最右边的边节点上, 输出边界点<br>
不会</p>
</div><is-f class="φcc φv φs"><!----><ul class="φcg"><li class="φce"><strong class="φcf">Author<span>:</span></strong><p class="φcd">Mvbbb</p></li><li class="φce"><strong class="φcf">Link<span>:</span></strong><p class="φcd"><a href="https://mvbbb.github.io/lsrgfy/" title="算法竞赛入门经典">https://mvbbb.github.io/lsrgfy/</a></p></li><li class="φce"><strong class="φcf">Copyright<span>:</span></strong><p class="φcd">Attribution-NonCommercial-NoDerivatives 4.0 International (<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener" target="_blank">CC BY-NC-ND 4.0</a>)</p></li><!----></ul><!----></is-f><!----><!----><!----></article><footer class="φgb φh"><!----><div class="φgc"><a class="φgd φgf φu" href="/mce5h4">想学算法</a><!----><a class="φgd φge φu" href="/hy5u9w">JDBC与mysql数据库交互</a><!----></div><!----></footer><is-e class="φbz φh"><div issnippet="" class="φbh"><div id="tcomment"></div>


</div><!----><!----><!----><!----></is-e><!----><!----><!----></is-s><!----></main><!----></div></div></div><is-g class="φch"><div class="φcq"><span class="φbg icon-up"></span><span class="φbg icon-down"></span><!----><span class="φbg icon-toc"></span><!----><span class="φbg icon-search"></span><!----></div><div class="φcj φck"><svg class="φcp"><defs><filter id="dp"><feGaussianBlur in="SourceGraphic" stdDeviation="2"></feGaussianBlur></filter></defs><circle filter="url(#dp)" fill="rgba(0,0,0,.3)" cx="50%" cy="52%" r="44%"></circle><circle cx="50%" cy="50%" r="44%" class="φcl φbb"></circle><circle cx="50%" cy="50%" r="48%" class="φco φba" stroke-dasharray="0% 314.15926%"></circle><!----><g class="φcm"><circle r=".2rem" cx="0" cy="-.8rem"></circle><circle r=".2rem"></circle><circle r=".2rem" cx="0" cy=".8rem"></circle></g><!----></svg></div></is-g><is-n class="φev φf"><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">1 </span><!----><span class="φfc">破损的键盘</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">2 </span><!----><span class="φfc">移动盒子</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">3 </span><!----><span class="φfc">*小球下落</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">4 </span><!----><span class="φfc">树与二叉树</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">5 </span><!----><span class="φfc">树</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">6 </span><!----><span class="φfc">*天平</span></a><!----></div><div class="φex φey φn"><a class="φfa φu"><span class="φfb φd">7 </span><!----><span class="φfc">下落的树叶</span></a><!----></div><!----></is-n><!----><!----></is-a><!-- hexo injector body_begin end --><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/twikoo@1.0.0/dist/twikoo.all.min.js"></script><script src="/runtime.b15aa7186c559b492b7d.js"></script><script src="/polyfills.824ff89b5f3ca4543a31.js"></script><script src="/main.03652fc423a687c817e8.js"></script><!-- hexo injector body_end end -->

</body></html>